
/*

-- =============================================
-- Author:		Evgeni Yordanov, Mihail Kostov, Alexandrina Ivanova
-- Create date: 2013-03-11
-- Description:	Bar chart JavaScript library. It uses SVG/VML/Canvas rendering to display the chart.
-- Version: 1.0
-- =============================================

	USE LICENSE
		Permission is granted to temporarily download one copy of the materials 
		(information or software) on Research Metrics, LLC's web site for personal, 
		non-commercial transitory viewing only. This is the grant of a license, 
		not a transfer of title, and under this license you may not:
			- modify or copy the materials;
			- use the materials for any commercial purpose, or for any public display (commercial or non-commercial);
			- attempt to decompile or reverse-engineer any software contained on Research Metrics, LLC's web site;
			- remove any copyright or other proprietary notations from the materials; or
			- transfer the materials to another person or "mirror" the materials on any other server.
		This license shall automatically be terminated if you violate any of these restrictions, and may be terminated by Research Metrics, LLC at any time. Upon terminating your viewing of these materials or upon the termination of this license, you must destroy any downloaded materials in your possession whether in electronic or printed format.
	
	DISCLAIMER
		The materials on Research Metrics, LLC's web site are provided "as is". Research Metrics, LLC makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties, including without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights. Further, Research Metrics, LLC does not warrant or make any representations concerning the accuracy, likely results, or reliability of the use of the materials on its Internet web site or otherwise relating to such materials or on any sites linked to this site.
	
	LIMITATIONS
	In no event shall Research Metrics, LLC or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption,) arising out of the use or inability to use the materials on Research Metrics, LLC's Internet site, even if Research Metrics, LLC or a Research Metrics, LLC authorized representative has been notified orally or in writing of the possibility of a such damage. Because some jurisdictions do not allow limitations on implied warranties, or limitations of liability for consequential or incidental damages, these limitations may not apply to you.
	
	GOVERNING LAW
	Any claim relating to Research Metrics, LLC's web site shall be governed by the laws of the State of Perrysburgs without regard to its conflict of law provisions.

*/

function BarChart(D,w,m){if("undefined"!==typeof D&&"object"===typeof w){"undefined"===typeof window.Bar&&(window.Bar={});if("undefined"===typeof m){for(var G=0;"undefined"!==typeof Bar[G];)G++;m=G}window.Bar[m]={width:0,height:0,params:w,container:D,chartContainer:null,initialize:function(a,b,c){var e=Bar[m];if("undefined"===typeof w.xmlData&&"undefined"===typeof w.container){var f={xmlData:{chart:w},container:e.container};w=f;e.params=f}w.xmlData.chart=e.dataProxy.changeDataFormat(w.xmlData.chart);
"undefined"!==typeof c&&(w=c,e.params=w);if(e.ParamsChecker.checkParams(w))c=e.params.xmlData.chart,a=e.ParamsChecker.getSizeFromParams(a,b,e.container),e.container.style.overflow="hidden",e.disableSelection(e.container),e.Base.legendSize={x:0,y:0,w:0,h:0},e.width=a.width,e.height=a.height,e.Render.InitializeRender(),a=e.Render.render,e.deleteChilds(e.container),b=e.createChartContainers(e.container),e.chartContainer=b.chartContainer,e.relativeContainer=b.relativeContainer,"complete"===document.readyState?
e.ToolTip.initialize():e.addEvent(window,"load",function(){e.ToolTip.initialize()}),e.Base.initBaseParams(),e.Base.getBarsGradientOpacity(),a=e.NodeFactory[a],a.createRoot(),a.createBackground(),"1"===c.showChartsBase&&a.createBase(),"1"==c.showLegend&&a.drawLegendBackground(),e.Base.addDivLines(),e.Base.drawAxisLabels(),e.Base.drawTrendLines(!1),e.Base.drawBars(),e.Base.drawTrendLines(!0),e.Base.appendDocumentRef(),e.Base.drawLogo();else throw Error("Incorrect parameters passed to Bar Chart initialization!");
},dataProxy:{changeDataFormat:function(a){var b={};if("undefined"!==typeof a.data){for(var c in a)if("data"!==c&&"categories"!==c&&"styles"!==c)for(var e in a[c])"rotateCategoryNames"===e?b.rotateNames=a[c][e]:"showAxisHeadingsOnHover"===e?b.headingsHover=a[c][e]:b[e]=a[c][e];else if("data"===c)b.dataset=a[c];else if("categories"===c||"styles"===c)b[c]=a[c];return b}if("object"===typeof a.dataset)return a}},Base:{categoriesNamesWidth:0,categoryWidth:0,displacementCoefficient:4,titleHeight:0,maxValue:0,
minValue:0,maxValueS:0,minValueS:0,baseValue:0,barsVerticalPadding:10,drawBarsQueue:null,drawLinesQueue:null,bottomLabelsHeight:15,legendContainer:null,legendMaxWidthCoef:0.8,legendMaxHeightCoef:0.2,leftLabelsSpacing:5,barsMaxHeightCoef:0.2,bottomLabelsmarginTopDefaultVal:15,bottomLabelsmarginTop:15,bottomTrendLabelsmarginTop:15,trendLabelsMaxHeight:0,bottomLabelsMaxHeight:0,errorLineMaxHeight:20,errorLineHeightCoef:0.7,categoriesLabelsRightMargin:7,labelMarginTop:15,secondYAxisExist:!1,shadowOpacity:30,
shadowWidthCoef:1.5,shadowOffset:4,barsLabelsSize:null,hasNegativeBarValuesAtTop:!1,hasPositiveBarValuesAtTop:!1,sclaesNamesSizes:null,secondaryScaleLabelsMaxSize:null,barsGradientOpacity:0.3,categoriesHeadingMarginTop:5,colorDefaultVault:{colorArrayLight:"fadb7b D3EAFB BFD973 FFC199 73C1C1 E89999 C199C1 A3BC88 D5D073 73C1E8 cbbcdb c9777a".split(" "),validationObj:{1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,"0":!0,a:!0,b:!0,c:!0,d:!0,e:!0,f:!0,A:!0,B:!0,C:!0,D:!0,E:!0,F:!0},counter:0,getColor:function(){var a=
Bar[m].Base.colorDefaultVault,b=a.colorArrayLight,c=a.counter;c>=b.length&&(c%=b.length);b=b[c];a.counter++;return b},testColor:function(a){var b=!1,c=Bar[m].Base.colorDefaultVault.validationObj;if("undefined"!==typeof a){a=a.replace("#","");if(6<a.length)return b;for(var e=0;e<a.length;e++)if("undefined"!==typeof c[a.charAt(e)])b=c[a.charAt(e)];else return!1}return b}},legendSize:{x:0,y:0,w:0,h:0},barsBackgroundPosition:{x:0,y:0,w:0,h:0},barsPlace:{x:0,y:0,w:0,h:0},basePosition:{x:0,y:0,w:0,h:0},
symbols:[{symbol:/&#34;/g,replacement:'"'},{symbol:/&quot;/g,replacement:'"'},{symbol:/&ldquo;/g,replacement:"\u201c"},{symbol:/&#8220;/g,replacement:"\u201c"},{symbol:/&rdquo;/g,replacement:"\u201d"},{symbol:/&#8221;/g,replacement:"\u201d"},{symbol:/&#39;/g,replacement:"'"},{symbol:/&#8216;/g,replacement:"\u2018"},{symbol:/&#8217;/g,replacement:"\u2019"},{symbol:/&lt;/g,replacement:"<"},{symbol:/&gt;/g,replacement:">"},{symbol:/&dash;/g,replacement:"-"},{symbol:/&minus;/g,replacement:"-"},{symbol:/&hyphen;/g,
replacement:"-"},{symbol:/&amp;/g,replacement:"&"},{symbol:/&#045;/g,replacement:"-"},{symbol:/&#8210;/g,replacement:"\u2012"},{symbol:/\u00e2\u20ac/g,replacement:"-"},{symbol:/\u00e2\u20ac\u201c/g,replacement:"-"}],drawLogo:function(){var a=Bar[m];a.NodeFactory[a.Render.render].drawLogo.init()},getHoverColor:function(a){function b(a,b){result=parseInt(a,16)+parseInt(b,16);return 15<result?"F":result.toString(16).toUpperCase()}a=a.replace("#","");percentHex=parseInt(Math.round(2.4));return b(a.charAt(0),
percentHex)+b(a.charAt(1),percentHex)+b(a.charAt(2),percentHex)+b(a.charAt(3),percentHex)+b(a.charAt(4),percentHex)+b(a.charAt(5),percentHex)},changeColor:function(a,b){var c={hexCode:null,rgb:null},e=0,f=0,h=0;"object"===typeof b?(e=b.r,f=b.g,h=b.b):h="number"===typeof b?f=e=b:f=e=0;var g=a.substring(0,2),j=a.substring(2,4),k=a.substring(4,6),e=parseInt(g,16)+e,f=parseInt(j,16)+f,h=parseInt(k,16)+h;255<e&&(e=255);255<f&&(f=255);255<h&&(h=255);0>e&&(e=0);0>f&&(f=0);0>h&&(h=0);c.rgb="rgb( "+e+","+
h+","+f+" )";k=e.toString(16);f=f.toString(16);h=h.toString(16);1==k.length&&(k="0"+k);1==f.length&&(f="0"+f);1==h.length&&(h="0"+h);c.hexCode=k+f+h;return c},getAllBarLabels:function(){for(var a=Bar[m].params.xmlData.chart,b=a.dataset,c=b.length,e=[];c--;){var f=b[c].set.length;if("1"===b[c].showValues&&"1"===b[c].positionAtTop)for(;f--;)""!==b[c].set[f].value&&e.push(a.numberPrefix+parseFloat(b[c].set[f].value,10).toFixed(a.decimals)+a.numberSuffix)}return e},getBarLabelsSize:function(){var a=Bar[m],
b=a.params.xmlData.chart,c=a.Base.getAllBarLabels();return a.NodeFactory.SVG.getBiggestBBox(c,{fontFamily:b.baseFont,fontSize:b.baseFontSize})},encodeString:function(a){for(var b=Bar[m].Base.symbols,c=b.length;c--;)a=a.replace(b[c].symbol,b[c].replacement);return a},appendDocumentRef:function(){var a=Bar[m];null!==a.NodeStore.documentFragmentRef&&a.chartContainer.appendChild(a.NodeStore.documentFragmentRef)},initBaseParams:function(){var a=Bar[m],b=a.params.xmlData.chart;a.Base.secondYAxisExist?(a.Base.getMinMax("P"),
a.Base.getMinMax("S")):a.Base.getMinMax("P");var c=0,e=0,f=0,h=0,g=a.Base.getScalesHeadingsSize(),j=a.Base.getTrendLineslabelsMaxSize(),h=parseInt(b.canvasBorderThickness,10),k=a.Base.getBiggestVTextSize(),l=a.Base.getBiggestHTextSize("P"),p=a.Base.getBiggestHTextSize("S");a.Base.trendLabelsMaxHeight=j.h;a.Base.sclaesNamesSizes=g;a.Base.barsLabelsSize=a.Base.getBarLabelsSize();a.Base.secondaryScaleLabelsMaxSize={w:p.w,h:p.h};1!==b.showCategoryLabels&&(k={w:0,h:0});0===b.showXAxisValues&&(l={w:0,h:0},
j={w:0,h:0});c=h+parseInt(b.chartLeftMargin,10);e=h+parseInt(b.chartRightMargin,10);f=h+parseInt(b.chartTopMargin,10);h+=parseInt(b.chartBottomMargin,10);if("1"===b.isColumn){var n=l.w;j.w>l.w&&(n=j.w);n+=a.Base.leftLabelsSpacing;a.Base.categoriesNamesWidth=n;c=c+n+g.P.h+a.Base.categoriesLabelsRightMargin;h=h+g.C.h+a.Base.bottomLabelsmarginTop;h="1"==b.rotateNames?h+k.w:h+k.h;a.Base.secondYAxisExist&&(e=e+g.S.h+p.w+a.Base.categoriesLabelsRightMargin);""!==b.categoriesAxisName&&(h+=a.Base.categoriesHeadingMarginTop)}else n=
l.h,j.h>l.h&&(n=j.h),c=c+g.C.h+k.w+a.Base.categoriesLabelsRightMargin+a.Base.leftLabelsSpacing,h=h+g.P.h+n,a.Base.secondYAxisExist&&(f=f+g.S.h+p.h);a.Base.drawCaption();a.Base.drawLegend();c+=a.Base.displacementCoefficient;f+=a.Base.titleHeight;h+=a.Base.legendSize.h;a.Base.barsBackgroundPosition.x=c;a.Base.barsBackgroundPosition.y=f;a.Base.barsBackgroundPosition.h=a.height-(a.Base.barsBackgroundPosition.y+h+2*b.legendPadding);a.Base.barsBackgroundPosition.w=a.width-(a.Base.barsBackgroundPosition.x+
e);a.Base.initBarsBase()},initBarsBase:function(){var a=Bar[m],b=!1;"1"===a.params.xmlData.chart.isColumn&&(b=!0);b?(a.Base.basePosition.x=a.Base.barsBackgroundPosition.x,a.Base.basePosition.y=a.Base.barsBackgroundPosition.y,a.Base.basePosition.w=a.Base.barsBackgroundPosition.w):(a.Base.basePosition.x=a.Base.barsBackgroundPosition.x,a.Base.basePosition.y=a.Base.barsBackgroundPosition.y,a.Base.basePosition.w=a.Base.barsBackgroundPosition.w-a.Base.displacementCoefficient);a.Base.basePosition.h=a.Base.barsBackgroundPosition.h-
a.Base.displacementCoefficient;a.Base.barsPlace.x=a.Base.barsBackgroundPosition.x;a.Base.barsPlace.y=a.Base.barsBackgroundPosition.y;a.Base.barsPlace.w=a.Base.barsBackgroundPosition.w;a.Base.barsPlace.h=a.Base.barsBackgroundPosition.h},getBarsGradientOpacity:function(){var a=Bar[m];a.Base.barsGradientOpacity=parseFloat(a.params.xmlData.chart.barsGradientOpacity/300,10)},getTrendLineslabelsMaxSize:function(){var a=Bar[m],b=a.params.xmlData.chart;if("undefined"!==typeof b.trendLines&&"undefined"!==
typeof b.trendLines.line)for(var c=b.trendLines.line.length,e=[];c--;)"undefined"!==typeof b.trendLines.line[c].displayValue&&e.push(b.trendLines.line[c].displayValue);return a.NodeFactory[a.Render.render].getBiggestBBox(e,{fontFamily:b.outCnvBaseFont,fontSize:b.outCnvBaseFontSize})},getMinMax:function(a){var b=Bar[m],c=b.params.xmlData.chart,e=0,f=0,h=0,g=0,j=c.dataset,k=c.categories.category,l=0;"S"==a?("undefined"!==typeof c.ySAxisMinValue&&!isNaN(c.ySAxisMinValue)&&(h=e=parseFloat(c.ySAxisMinValue,
10)),"undefined"!==typeof c.ySAxisMaxValue&&!isNaN(c.ySAxisMaxValue)&&(g=f=parseFloat(c.ySAxisMaxValue,10))):("undefined"!==typeof c.yAxisMinValue&&!isNaN(c.yAxisMinValue)&&(h=e=parseFloat(c.yAxisMinValue,10)),"undefined"!==typeof c.yAxisMaxValue&&!isNaN(c.yAxisMaxValue)&&(g=f=parseFloat(c.yAxisMaxValue,10)));"undefined"===typeof j.length&&(j=[j]);"undefined"===typeof k.length&&(k=[k]);l=k.length;for(k=0;k<l;k++){for(var p=0,n=0,t=0,v=j.length;t<v;t++)if(j[t].parentYAxis==a&&"undefined"!==typeof j[t].set[k]&&
null!==j[t].set[k]&&"undefined"!==typeof j[t].set[k].value&&""!==j[t].set[k].value){var x=parseFloat(j[t].set[k].value,10);if(0>x){var p=p+x,s=0;"0"===c.stacked&&"undefined"!==typeof j[t].set[k].negativeErrorPossible&&(s=-j[t].set[k].negativeErrorPossible);h>x+s&&(h=x+s)}else n+=x,s=0,"0"===c.stacked&&"undefined"!==typeof j[t].set[k].positiveErrorPossible&&(s=j[t].set[k].positiveErrorPossible),g<x+s&&(g=x+s)}e>p&&(e=p);f<n&&(f=n)}"P"==a?"1"===c.stacked?(b.Base.minValue=e,b.Base.maxValue=f):(b.Base.minValue=
h,b.Base.maxValue=g):"1"===c.stacked?(b.Base.minValueS=e,b.Base.maxValueS=f):(b.Base.minValueS=h,b.Base.maxValueS=g)},createLegendHTML:function(a){var b=Bar[m],c=b.params.xmlData.chart,e=document.createElement("div");e.style.width="100%";e.style.left="0px";e.style.position="absolute";e.style.textAlign="center";e.style.padding="0px";e.style.overflow="auto";e.style.overflowX="hidden";b.relativeContainer.appendChild(e);var f=document.createElement("div");f.style.width="100%";f.style.left="0px";f.style.position=
"relative";e.appendChild(f);try{tHolder=document.createElement('<table cellpadding="0" cellspacing="0" border="0" align="center">')}catch(h){tHolder=document.createElement("table"),tHolder.setAttribute("cellpadding","0"),tHolder.setAttribute("cellspacing","0"),tHolder.setAttribute("border","0"),tHolder.setAttribute("align","center")}tHolder.style.verticalAlign="middle";tHolder.style.margin="auto";var g=document.createElement("tbody"),j=document.createElement("tr"),k=document.createElement("td");j.appendChild(k);
g.appendChild(j);tHolder.appendChild(g);f.appendChild(tHolder);for(var l in a){var p=document.createElement("div");p.style.cssFloat="left";p.style.styleFloat="left";p.style.overflow="hidden";p.style.position="relative";p.style.padding="0 2px";var n;try{n=document.createElement('<table cellpadding="0" cellspacing="0" border="0">')}catch(t){n=document.createElement("table"),n.setAttribute("cellpadding","0"),n.setAttribute("cellspacing","0"),n.setAttribute("border","0")}n.style.fontFamily=c.outCnvBaseFont;
n.style.fontSize=c.outCnvBaseFontSize+"px";n.style.color="#"+c.outCnvBaseFontColor;n.style.maxWidth=b.width*b.Base.legendMaxWidthCoef+"px";n.style.margin="0 10px";var g=document.createElement("tbody"),j=document.createElement("tr"),v;try{v=document.createElement('<td valign="top">')}catch(x){v=document.createElement("td"),v.setAttribute("valign","top")}var s=document.createElement("div");a[l]=a[l].replace("#","");s.style.position="relative";s.style.width="6px";s.style.height="6px";s.style.margin=
parseInt(parseInt(c.outCnvBaseFontSize,10)/2,10)+"px 3px";s.style.border="1px solid #"+a[l];s.style.background="#"+a[l];s.style.verticalAlign="middle";v.appendChild(s);j.appendChild(v);v=document.createElement("td");v.style.verticalAlign="middle";""==l?v.innerHTML="&nbsp;":v.appendChild(document.createTextNode(b.Base.encodeString(l)));j.appendChild(v);g.appendChild(j);n.appendChild(g);p.appendChild(n);k.appendChild(p);if(b.getSize(k).width>b.width*b.Base.legendMaxWidthCoef){k.removeChild(p);try{tHolder=
document.createElement('<table cellpadding="0" cellspacing="0" border="0" align="center">')}catch(r){tHolder=document.createElement("table"),tHolder.setAttribute("cellpadding","0"),tHolder.setAttribute("cellspacing","0"),tHolder.setAttribute("border","0"),tHolder.setAttribute("align","center")}tHolder.style.verticalAlign="middle";tHolder.style.margin="auto";g=document.createElement("tbody");j=document.createElement("tr");k=document.createElement("td");j.appendChild(k);g.appendChild(j);tHolder.appendChild(g);
f.appendChild(tHolder);k.appendChild(p)}}a=b.getSize(e);l=parseInt(b.Base.legendMaxHeightCoef*b.height,10);a.height>l&&(a.height=l-parseInt(c.chartBottomMargin,10),e.style.height=a.height+"px");e.style.top=b.height-a.height-parseInt(c.chartBottomMargin,10)-c.legendPadding+"px";e=f.childNodes;l=f=0;for(k=e.length;l<k;l++)p=b.getSize(e[l]).width,p>f&&(f=p);b.Base.legendSize.h=a.height;b.Base.legendSize.w=f;b.Base.legendSize.x=(b.width-f)/2;b.Base.legendSize.y=b.height-a.height-parseInt(c.chartBottomMargin,
10)-c.legendPadding},drawLegend:function(){var a=Bar[m],b=a.params.xmlData.chart;if("1"==b.showLegend){for(var c={},b=b.dataset,e=0,f=b.length;e<f;e++)c[b[e].seriesName]=b[e].color;a.Base.createLegendHTML(c)}},getValuePosition:function(a,b){var c=Bar[m],e=c.params.xmlData.chart;"undefined"===typeof b&&(b="P");if("1"==e.isColumn){if("S"==b)var f=c.Base.minValueS,h=c.Base.maxValueS;else f=c.Base.minValue,h=c.Base.maxValue;var g=c.Base.barsLabelsSize.h+e.depth,j=0,e=0;c.Base.hasPositiveBarValuesAtTop&&
(j=g);c.Base.hasNegativeBarValuesAtTop&&(e=g);g=c.Base.basePosition.h-j-e;j=c.Base.baseValue;c=c.Base.basePosition.y+c.Base.basePosition.h-e;f=f<j?f:j;h+=Math.abs(f);a=isNaN(a)?0:parseFloat(a,10);h=c-(a+Math.abs(f))/h*g}else"S"==b?(f=c.Base.minValueS,h=c.Base.maxValueS):(f=c.Base.minValue,h=c.Base.maxValue),g=c.Base.barsLabelsSize.w+2*e.depth,e=j=0,c.Base.hasPositiveBarValuesAtTop&&(j=g),c.Base.hasNegativeBarValuesAtTop&&(e=g),g=c.Base.basePosition.w-j-e,j=c.Base.baseValue,c=c.Base.basePosition.x+
e,f=f<j?f:j,h+=Math.abs(f),a=isNaN(a)?0:parseFloat(a,10),h=(a+Math.abs(f))/h*g+c;return h},addDivLines:function(){var a=Bar[m],b=a.params.xmlData.chart,c=b.numDivLines,e=a.NodeFactory[a.Render.render],f=a.Base.minValue,h=a.Base.maxValue,g=a.Base.baseValue,f=f<g?f:g,j=[],k=!1,l=!1,p=!1;if(a.Base.secondYAxisExist)var n=a.Base.minValueS,t=a.Base.maxValueS,n=n<g?n:g;"1"==b.isColumn&&(k=!0);c="undefined"===typeof b.numDivLines?0:parseInt(c,10);0<a.Base.barsLabelsSize.w&&0<a.Base.barsLabelsSize.h&&(a.Base.hasNegativeBarValuesAtTop&&
0!==parseInt(b.numDivLines,10)&&(p=!0),a.Base.hasPositiveBarValuesAtTop&&0!==parseInt(b.numDivLines,10)&&(l=!0));a.Base.secondYAxisExist?(e.addDivLine(h,l,k,t),e.addDivLine(f,p,k,n)):(e.addDivLine(h,l,k),e.addDivLine(f,p,k));j.push(h);j.push(f);if(c){b=(h-f)/(c+1);t=(t-n)/(c+1);for(h=1;h<=c+1;h++)g=f+b*h,a.Base.secondYAxisExist?e.addDivLine(g,!0,k,n+t*h):e.addDivLine(g,!0,k),j.push(g)}a.NodeStore.drawnDivLinesLabels=j},chartHoverHandler:function(){return function(){Bar[m].ChartLabels.show()}},chartOutHandler:function(){return function(){Bar[m].ChartLabels.hide()}},
drawAxisLabels:function(){var a=Bar[m],b=a.params.xmlData.chart,c=a.NodeFactory[a.Render.render];if(""!==b.categoriesAxisName&&(c.drawCategoriesAxisName(),1===b.headingsHover)){var e=new a.Base.chartHoverHandler,f=new a.Base.chartOutHandler;a.addEvent(a.container,"mouseover",e);a.addEvent(a.container,"mouseout",f)}""!==b.PYAxisName&&(c.drawPrimaryAxisName(),1===b.headingsHover&&(e=new a.Base.chartHoverHandler,f=new a.Base.chartOutHandler,a.addEvent(a.container,"mouseover",e),a.addEvent(a.container,
"mouseout",f)));""!==b.SYAxisName&&a.Base.secondYAxisExist&&c.drawSecondaryAxisName()},drawErrorLine:function(a){var b=Bar[m],c=[],e=a.value,f=a.value,h=0,g=0,j=b.Base.errorLineMaxHeight,k=b.Base.errorLineHeightCoef*(a.h-b.Base.displacementCoefficient),l=!1;"1"==b.params.xmlData.chart.isColumn&&(l=!0);l&&(k=b.Base.errorLineHeightCoef*(a.w-b.Base.displacementCoefficient));!1!==a.positiveErrorPossible&&(e=a.positiveErrorPossible+a.value);!1!==a.negativeErrorPossible&&(f=a.value-a.negativeErrorPossible);
g=b.Base.getValuePosition(e)-1;h=b.Base.getValuePosition(f)-1;k>j&&(k=j);l?(f=a.x+(a.w-k-b.Base.displacementCoefficient)/2,j=f+k,l=(f+j)/2,e=g,k=h,c.push({x:f,y:k+1}),c.push({x:j,y:k+1}),c.push({x:j,y:k-1}),c.push({x:l+1,y:k-1}),c.push({x:l+1,y:e+1}),c.push({x:j,y:e+1}),c.push({x:j,y:e-1}),c.push({x:f,y:e-1}),c.push({x:f,y:e+1}),c.push({x:l-1,y:e+1}),c.push({x:l-1,y:k-1}),c.push({x:f,y:k-1})):(e=a.y+b.Base.displacementCoefficient+(a.h-k-b.Base.displacementCoefficient)/2,k=e+k,f=(e+k)/2,c.push({x:h-
1,y:e}),c.push({x:h-1,y:k}),c.push({x:h+1,y:k}),c.push({x:h+1,y:f+1}),c.push({x:g-1,y:f+1}),c.push({x:g-1,y:k}),c.push({x:g+1,y:k}),c.push({x:g+1,y:e}),c.push({x:g-1,y:e}),c.push({x:g-1,y:f-1}),c.push({x:h+1,y:f-1}),c.push({x:h+1,y:e}));a.points=c;b.NodeFactory[b.Render.render].drawErrorLine(a)},drawBars:function(){var a=Bar[m],b=a.params.xmlData.chart;"1"==b.isColumn?"1"===b.stacked?a.Base.drawStackedColumnBars():a.Base.drawNotStackedColumnBars():"1"===b.stacked?a.Base.drawStackedBars():a.Base.drawNotStackedBars()},
drawStackedColumnBars:function(){var a=Bar[m],b=a.params.xmlData.chart,c=0,e=b.categories.category,f=a.Base.barsPlace.w-2*a.Base.barsVerticalPadding+a.Base.displacementCoefficient,h=a.Base.barsPlace.x+a.Base.barsVerticalPadding,g=0,j=a.NodeFactory[a.Render.render],k=b.dataset,l=[],p=a.width*a.Base.barsMaxHeightCoef,n=0,t=b.barsSpacing,v=k.length,c=e.length,g=f/c-t;g>p&&(g=p);p=(g+t)*c;p<f&&(n=(f-p)/2);for(f=0;f<c;f++)p=h+f*(g+t)+g/2+n-a.Base.displacementCoefficient,j.addCategoryLabel({label:e[f].label,
x:p,y:a.Base.basePosition.y+a.Base.basePosition.h+a.Base.bottomLabelsmarginTop});for(f=0;f<c;f++){for(var e={left:{items:{},count:0},right:{items:{},count:0}},j=0,x=v;j<x;j++)if("undefined"!==typeof k[j].set[f]&&""!==k[j].set[f].value){var s=parseFloat(k[j].set[f].value,10),p=h+f*(g+t)+n+0,r=a.Base.getValuePosition(0),q=a.Base.getValuePosition(s),E=!1,B=!1,C=!1,z="#"+k[j].color.replace("#","");1==v&&(z="#"+k[j].set[f].color.replace("#",""));"1"==k[j].showValues&&(E=!0);"1"==k[j].rotateValues&&(B=
!0);C=k[j].set[f].toolText;if(0<s){var y=q,r=r-q;"1"==b.setOnePixelBarMinSize&&1>r&&(r=1);q=g-0-a.Base.displacementCoefficient;1>q&&(q=1);if(0<e.right.count)for(var A=e.right.count,u=0;u<A;u++)y=y-e.right.items[u].h+a.Base.displacementCoefficient;e.right.items[e.right.count]={w:q,h:r+a.Base.displacementCoefficient,y:y,x:p,color:z,value:s,showValue:E,rotateValue:B,toolText:C,positionAtTop:!1,syncLabelColor:!1,positiveErrorPossible:!1,negativeErrorPossible:!1,url:k[j].set[f].url,jsFunction:k[j].set[f].jsFunction};
e.right.count++}else if(0!=s){y=r;r=q-r;"1"==b.setOnePixelBarMinSize&&1>r&&(r=1);q=g-0-a.Base.displacementCoefficient;1>q&&(q=1);if(0<e.left.count){A=e.left.count;for(u=0;u<A;u++)y=y+e.left.items[u].h-a.Base.displacementCoefficient}e.left.items[e.left.count]={w:q,h:r+a.Base.displacementCoefficient,y:y,x:p,color:z,value:s,showValue:E,rotateValue:B,toolText:C,positionAtTop:!1,syncLabelColor:!1,positiveErrorPossible:!1,negativeErrorPossible:!1,url:k[j].set[f].url,jsFunction:k[j].set[f].jsFunction};e.left.count++}}l.push(e)}a.Base.drawBarsQueue=
l;a.Base.drawBarsFromDrawQueue(l)},drawNotStackedColumnBars:function(){for(var a=Bar[m],b=a.params.xmlData.chart,c=a.NodeFactory[a.Render.render],e=0,f=b.categories.category,h=b.dataset,g=b.barsSpacing,j=a.Base.barsPlace.w-2*a.Base.barsVerticalPadding+g+a.Base.displacementCoefficient,k=a.Base.barsPlace.x+a.Base.barsVerticalPadding+a.Base.displacementCoefficient,l=0,p=0,n=[],t=h.length,p=a.width*a.Base.barsMaxHeightCoef,v=0,x=0,s={},e=0,r=t;r--;)"column"===h[r].renderAs?x++:e++;0==x&&(x=e);e=f.length;
l=j/e-g;a.Base.categoryWidth=l;l>p*x&&(l=p*x);l*e<j&&(v=(j-(l+g)*e)/2);p=l/x;for(j=0;j<e;j++)r=k+j*l+l/2+v-2*a.Base.displacementCoefficient,c.addCategoryLabel({label:f[j].label,x:r+g*j,y:a.Base.basePosition.y+a.Base.basePosition.h+a.Base.bottomLabelsmarginTop});for(j=0;j<e;j++){for(var f=c=0,l={left:{items:{},count:0},right:{items:{},count:0}},q=0;q<t;q++){var E=h[q].parentYAxis,B=h[q].color.replace("#","");if("line"===h[q].renderAs){var C=!1,z=!1,y=!1;"1"==h[q].showValues&&(C=!0);"1"==h[q].syncLabelColor&&
(z=!0);"1"==h[q].rotateLabels&&(y=!0);"undefined"===typeof s[q]&&(s[q]={items:[],color:B,radius:h[q].anchorRadius,borderWidth:h[q].anchorBorderWidth,fillColor:h[q].anchorFillColor,borderColor:h[q].anchorBorderColor,lineWidth:h[q].lineWidth,showShadow:h[q].showShadow,showValue:C,lineAlpha:h[q].lineAlpha,anchorAlpha:h[q].anchorAlpha,rotateLabels:y,labelsAngle:h[q].labelsAngle,syncLabelColor:z});if("undefined"!==typeof h[q].set[j]&&null!==h[q].set[j])if(""!==h[q].set[j].value){var r=g*j,A=parseFloat(h[q].set[j].value,
10),r=k+j*x*p+v+0+r-a.Base.displacementCoefficient,u=(p-0-a.Base.displacementCoefficient)*x,w="",w=h[q].set[j].toolText;s[q].items.push({x:r+u/2,y:a.Base.getValuePosition(A,E),value:A,color:B,syncLabelColor:z,rotateLabels:y,labelsAngle:h[q].labelsAngle,toolText:w,anchorRadius:h[q].anchorRadius,url:h[q].set[j].url,jsFunction:h[q].set[j].jsFunction})}else s[q].items.push(null);c++}else{if("undefined"!==typeof h[q].set[j]&&null!==h[q].set[j]&&""!==h[q].set[j].value){var A=parseFloat(h[q].set[j].value,
10),r=g*j,r=k+(j*x+q-c)*p+v+0+r,u=a.Base.getValuePosition(0,E),F=a.Base.getValuePosition(A,E),B=E=C=!1,y=h[q].color.replace("#",""),D=!1,z=!1;1==x&&(y=h[q].set[j].color.replace("#",""));"1"==h[q].showValues&&(C=!0);"1"==h[q].positionAtTop&&(D=!0);"1"==h[q].syncLabelColor&&(z=!0);w=h[q].set[j].toolText;E=h[q].set[j].positiveErrorPossible;B=h[q].set[j].negativeErrorPossible;if(0<A){var G=F,F=u-F,u=p-0-a.Base.displacementCoefficient;"1"==b.setOnePixelBarMinSize&&1>F&&(F=1);1>u&&(u=1);l.right.items[l.right.count]=
{w:u,h:F+a.Base.displacementCoefficient,y:G,x:r-a.Base.displacementCoefficient,color:"#"+y,value:A,showValue:C,toolText:w,positionAtTop:D,syncLabelColor:z,positiveErrorPossible:E,negativeErrorPossible:B,url:h[q].set[j].url,jsFunction:h[q].set[j].jsFunction};l.right.count++}else 0!=A&&(G=u,F-=u,u=p-0,"1"==b.setOnePixelBarMinSize&&1>F&&(F=1),1>u&&(u=1),l.left.items[l.left.count]={w:u-a.Base.displacementCoefficient,h:F+a.Base.displacementCoefficient,y:G,x:r-a.Base.displacementCoefficient,color:"#"+y,
value:A,showValue:C,toolText:w,positionAtTop:D,syncLabelColor:z,positiveErrorPossible:E,negativeErrorPossible:B,url:h[q].set[j].url,jsFunction:h[q].set[j].jsFunction},l.left.count++)}f++}}n.push(l)}a.Base.drawLinesQueue=s;a.Base.drawBarsQueue=n;a.Base.drawBarsFromDrawQueue(n);a.Base.drawLinesFromDrawQueue(s)},drawNotStackedBars:function(){var a=Bar[m],b=a.params.xmlData.chart,c=0,e=b.categories.category,f=a.Base.barsPlace.h-2*a.Base.barsVerticalPadding,h=a.Base.barsPlace.y+a.Base.barsVerticalPadding,
g=0,j=0,k=a.NodeFactory[a.Render.render],l=b.dataset,p=[],n=l.length,j=a.height*a.Base.barsMaxHeightCoef,t=0,v=b.barsSpacing,c=e.length,g=f/c-v;g>j*n&&(g=j*n);g*c<f&&(t=(f-(g+v)*c)/2);j=g/l.length;for(f=0;f<c;f++){var x=h+f*g+g/2+t;k.addCategoryLabel({label:e[f].label,x:a.Base.basePosition.x-a.Base.categoriesLabelsRightMargin,y:x+v*f})}for(f=0;f<c;f++){e={left:{items:{},count:0},right:{items:{},count:0}};for(g=0;g<n;g++){var s=l[g].parentYAxis;if("undefined"!==typeof l[g].set[f]&&null!==l[g].set[f]&&
""!==l[g].set[f].value){var k=parseFloat(l[g].set[f].value,10),x=h+(f*n+g)*j+t+0+v*f,r=a.Base.getValuePosition(0,s),q=a.Base.getValuePosition(k,s),w=s=!1,B=!1,C=!1,z=l[g].color.replace("#",""),y=!1,A=!1;1==n&&(z=l[g].set[f].color.replace("#",""));"1"==l[g].showValues&&(s=!0);w=l[g].set[f].toolText;B=l[g].set[f].positiveErrorPossible;C=l[g].set[f].negativeErrorPossible;"1"==l[g].positionAtTop&&(y=!0);"1"==l[g].syncLabelColor&&(A=!0);if(0<k){var u=r,r=q-r,q=j-0;1>q&&(q=1);"1"==b.setOnePixelBarMinSize&&
1>r&&(r=1);e.right.items[e.right.count]={w:r,h:q,y:x,x:u,color:"#"+z,value:k,showValue:s,toolText:w,positionAtTop:y,syncLabelColor:A,positiveErrorPossible:B,negativeErrorPossible:C,url:l[g].set[f].url,jsFunction:l[g].set[f].jsFunction};e.right.count++}else 0!=k&&(u=r,r-=q,q=j-0,1>q&&(q=1),"1"==b.setOnePixelBarMinSize&&1>r&&(r=1),e.left.items[e.left.count]={w:r,h:q,y:x,x:u-r,color:"#"+z,value:k,showValue:s,toolText:w,positionAtTop:y,syncLabelColor:A,positiveErrorPossible:B,negativeErrorPossible:C,
url:l[g].set[f].url,jsFunction:l[g].set[f].jsFunction},e.left.count++)}}p.push(e)}a.Base.drawBarsQueue=p;a.Base.drawBarsFromDrawQueue(p)},drawLinesFromDrawQueue:function(a){var b=Bar[m],b=b.NodeFactory[b.Render.render],c;for(c in a)for(var e=1,f=a[c].items.length;e<f;e++)null!==a[c].items[e-1]&&null!==a[c].items[e]&&b.drawLine({x1:a[c].items[e-1].x,y1:a[c].items[e-1].y,x2:a[c].items[e].x,y2:a[c].items[e].y,color:a[c].color,lineWidth:a[c].lineWidth,showShadow:a[c].showShadow,lineAlpha:a[c].lineAlpha});
for(c in a){e=0;for(f=a[c].items.length;e<f;e++)null!==a[c].items[e]&&b.drawAnchor({x:a[c].items[e].x,y:a[c].items[e].y,color:a[c].color,anchorRadius:a[c].radius,anchorBorderWidth:a[c].borderWidth,anchorFillColor:a[c].fillColor,anchorBorderColor:a[c].borderColor,toolText:a[c].items[e].toolText,showValue:a[c].showValues,anchorAlpha:a[c].anchorAlpha,url:a[c].items[e].url,jsFunction:a[c].items[e].jsFunction})}for(c in a)if(e=a[c],f=e.items.length,a[c].showValue)for(;f--;)null!==e.items[f]&&b.addLineLabel(e.items[f])},
drawBarsFromDrawQueue:function(a){var b=Bar[m],c=b.params.xmlData.chart,e=b.NodeFactory[b.Render.render],f=!1,h=!1;"1"===c.isColumn&&(h=!0);for(var g=0,j=a.length;g<j;g++)for(var k=a[g],l=k.left.count;l--;)f=e.drawBar(k.left.items[l]),k.left.items[l].sides=null,k.left.items[l].sides=f,f=!0;f&&1===c.showZeroSeparator?e.createZeroSeparator(h):"1"===c.forseShowZeroSeparator&&e.createZeroSeparator(h);g=0;for(j=a.length;g<j;g++){k=a[g];c=0;for(h=k.right.count;c<h;c++)f=e.drawBar(k.right.items[c]),k.right.items[c].sides=
null,k.right.items[c].sides=f}g=0;for(j=a.length;g<j;g++){k=a[g];for(l=k.left.count;l--;)(k.left.items[l].negativeErrorPossible||k.left.items[l].positiveErrorPossible)&&b.Base.drawErrorLine(k.left.items[l]);c=0;for(h=k.right.count;c<h;c++)(k.right.items[c].negativeErrorPossible||k.right.items[c].positiveErrorPossible)&&b.Base.drawErrorLine(k.right.items[c])}g=0;for(j=a.length;g<j;g++){k=a[g];for(l=k.left.count;l--;)k.left.items[l].showValue&&0!==k.left.items[l].value&&e.addBarLabel(k.left.items[l],
k.left.items[l].sides);c=0;for(h=k.right.count;c<h;c++)k.right.items[c].showValue&&0!==k.right.items[c].value&&e.addBarLabel(k.right.items[c],k.right.items[c].sides)}},drawStackedBars:function(){var a=Bar[m],b=a.params.xmlData.chart,c=0,e=b.categories.category,f=a.Base.barsPlace.h-2*a.Base.barsVerticalPadding,h=a.Base.barsPlace.y+a.Base.barsVerticalPadding,g=0,j=a.NodeFactory[a.Render.render],k=b.dataset,l=k.length,p=[],n=a.height*a.Base.barsMaxHeightCoef,t=0,v=b.barsSpacing,c=e.length,g=f/c-v;g>
n&&(g=n);n=(g+v)*c;n<f&&(t=(f-n)/2);for(f=0;f<c;f++)n=h+f*(g+v)+g/2+t,j.addCategoryLabel({label:e[f].label,x:a.Base.basePosition.x-a.Base.categoriesLabelsRightMargin,y:n});for(f=0;f<c;f++){for(var e={left:{items:{},count:0},right:{items:{},count:0}},j=0,x=l;j<x;j++)if(k[j].set[f]&&""!==k[j].set[f].value){var s=parseFloat(k[j].set[f].value,10),n=h+f*(g+v)+t+0,r=a.Base.getValuePosition(0),q=a.Base.getValuePosition(s),w=!1,B=!1,C="#"+k[j].color.replace("#","");1==l&&(C="#"+k[j].set[f].color.replace("#",
""));"1"==k[j].showValues&&(w=!0);B=k[j].set[f].toolText;if(0<s){var z=0,q=q-r,y=g-0;1>y&&(y=1);"1"==b.setOnePixelBarMinSize&&1>q&&(q=1);if(0<e.right.count)for(var A=e.right.count,u=0;u<A;u++)z+=e.right.items[u].w;e.right.items[e.right.count]={w:q,h:y,y:n,x:z+r,color:C,value:s,showValue:w,toolText:B,positionAtTop:!1,syncLabelColor:!1,positiveErrorPossible:!1,negativeErrorPossible:!1,url:k[j].set[f].url,jsFunction:k[j].set[f].jsFunction};e.right.count++}else{z=r;q=r-q;y=g-0;"1"==b.setOnePixelBarMinSize&&
1>q&&(q=1);1>q&&(q=1);if(0<e.left.count){A=e.left.count;for(u=0;u<A;u++)z-=e.left.items[u].w}e.left.items[e.left.count]={w:q,h:y,y:n,x:z-q,color:C,value:s,showValue:w,toolText:B,positionAtTop:!1,syncLabelColor:!1,positiveErrorPossible:!1,negativeErrorPossible:!1,url:k[j].set[f].url,jsFunction:k[j].set[f].jsFunction};e.left.count++}}p.push(e)}a.Base.drawBarsQueue=p;a.Base.drawBarsFromDrawQueue(p)},drawCaption:function(){var a=Bar[m],b=a.params.xmlData.chart;if(""!==b.caption){var c=a.ParamsChecker.getDefinedFontStyles("Caption"),
e=document.createElement("div"),c=a.ParamsChecker.defineUndefinedFontStyles(c);e.style.top=b.chartTopMargin+"px";e.style.left="0px";e.style.position="absolute";e.style.width="100%";var f=document.createElement("div");f.style.margin="auto";f.style.width="85%";f.style.textAlign="center";f.style.fontFamily=c.font;f.style.fontSize=c.size+"px";f.style.color="#"+c.color;"1"===c.bold&&(f.style.fontWeight="bold");f.appendChild(document.createTextNode(b.caption));e.appendChild(f);a.relativeContainer.appendChild(e);
a.Base.titleHeight=a.getSize(e).height}},getScalesHeadingsSize:function(){var a=Bar[m],b=a.params.xmlData.chart,c=a.NodeFactory[a.Render.render],e=a.ParamsChecker.defineUndefinedFontStyles(a.ParamsChecker.getDefinedFontStyles("PYAxisName")),f=a.ParamsChecker.defineUndefinedFontStyles(a.ParamsChecker.getDefinedFontStyles("SYAxisName")),a=a.ParamsChecker.defineUndefinedFontStyles(a.ParamsChecker.getDefinedFontStyles("categoriesAxisName")),e=c.getBiggestBBox([b.PYAxisName],{fontFamily:e.font,fontSize:e.size}),
f=c.getBiggestBBox([b.SYAxisName],{fontFamily:f.font,fontSize:f.size}),b=c.getBiggestBBox([b.categoriesAxisName],{fontFamily:a.font,fontSize:a.size});return{P:e,S:f,C:b}},getAllVerticalLabels:function(){for(var a=Bar[m].params.xmlData.chart.categories.category,b=[],c=0,e=a.length;c<e;c++)b.push(a[c].label);return b},getBiggestVTextSize:function(){var a=Bar[m],b=a.params.xmlData.chart,c=a.NodeFactory[a.Render.render],a=a.Base.getAllVerticalLabels();return c.getBiggestBBox(a,{fontFamily:b.outCnvBaseFont,
fontSize:parseInt(b.outCnvBaseFontSize,10)})},getAllHorizontalLabels:function(a){var b=Bar[m],c=b.params.xmlData.chart;"undefined"===typeof a&&(a="P");if("S"==a)var e=b.Base.maxValueS,f=b.Base.minValueS;else e=b.Base.maxValue,f=b.Base.minValue;a=b.params.xmlData.chart.numDivLines;var h=b.Base.baseValue,b=c.numberPrefix,g=c.numberSuffix,f=f<h?f:h,h=(e-f)/(a+1),j=[];j.push(b+f.toFixed(c.decimals)+g);j.push(b+e.toFixed(c.decimals)+g);for(e=1;e<=a;e++)j.push(b+(f+h*e).toFixed(c.decimals)+g);return j},
drawTrendLine:function(a,b){var c=Bar[m],e=c.NodeFactory[c.Render.render],f=!1;"1"==c.params.xmlData.chart.isColumn&&(f=!0);if("undefined"!==typeof a.startValue&&"undefined"!==typeof a.endValue&&"undefined"!==typeof a.isTrendZone&&"undefined"!==typeof a.color){if("1"==a.isTrendZone){var h=c.Base.getValuePosition(a.startValue),c=c.Base.getValuePosition(a.endValue),g="100";"undefined"!==typeof a.alpha&&(g=a.alpha);e.drawSection(h,c,a.color,g,f,b);"undefined"!==typeof a.displayvalue&&e.drawLineLabel((c+
h)/2,a.displayvalue,a.color,f)}}else"undefined"!==typeof a.startValue&&"undefined"!==typeof a.color&&("undefined"===typeof a.isTrendZone&&(a.isTrendZone="0"),"0"===a.isTrendZone&&(h=1,g=!1,"undefined"!==typeof a.thickness&&(h=a.thickness),"undefined"!==typeof a.dashed&&"1"==a.dashed&&(g=!0),e.drawDivLine(c.Base.getValuePosition(a.startValue),a.color,h,g,f,b),"undefined"!==typeof a.displayValue&&e.drawLineLabel(c.Base.getValuePosition(a.startValue),a.displayValue,a.color,f)))},drawTrendLines:function(a){for(var b=
Bar[m],c=b.params.xmlData.chart,e=c.trendLines.line.length;e--;)"undefined"===typeof c.trendLines.line[e].showOnTop&&(c.trendLines.line[e].showOnTop="0"),a?"1"===c.trendLines.line[e].showOnTop&&b.Base.drawTrendLine(c.trendLines.line[e],a):"0"===c.trendLines.line[e].showOnTop&&b.Base.drawTrendLine(c.trendLines.line[e],a)},getBiggestHTextSize:function(a){var b=Bar[m],c=b.params.xmlData.chart,e=b.NodeFactory[b.Render.render];a=b.Base.getAllHorizontalLabels(a);return e.getBiggestBBox(a,{fontFamily:c.outCnvBaseFont,
fontSize:parseInt(c.outCnvBaseFontSize,10)})}},ParamsChecker:{stylesDefined:!1,getSizeFromParams:function(a,b,c){var e=!1,f=!1,h=0,g=0;c=Bar[m].getSize(c);var j=typeof a,k=typeof b;"undefined"!==j&&(e=!0,h="string"===j?null!==a.match("%")?parseInt(c.width*parseFloat(a,10)/100,10):isNaN(parseInt(a,10))?c.width:parseInt(a,10):"number"===j?parseInt(a,10):c.width);"undefined"!==k&&(f=!0,g="string"===k?null!==b.match("%")?parseInt(c.height*parseFloat(b,10)/100,10):isNaN(parseInt(b,10))?c.height:parseInt(b,
10):"number"===k?parseInt(b,10):c.height);e||(h=c.width);f||(g=c.height);return{width:h,height:g}},checkParams:function(){var a=!0,b=Bar[m],c=b.params.xmlData.chart;b.ParamsChecker.checkStyles();b.ParamsChecker.defineFonts();b.ParamsChecker.defineTooltip();b.ParamsChecker.defineNumDivLines();b.ParamsChecker.defineDecimals();b.ParamsChecker.definePrefixSuffix();b.ParamsChecker.defineCaption();b.ParamsChecker.defineLegend();b.ParamsChecker.defineStacked();b.ParamsChecker.defineChartMargins();b.ParamsChecker.defineDepth();
b.ParamsChecker.defineDatasets();b.ParamsChecker.defineChartCanvas();b.ParamsChecker.defineBackground();b.ParamsChecker.defineShowChartsBase();b.ParamsChecker.defineTrendLines();b.ParamsChecker.defineBarsSpacing();b.ParamsChecker.defineColumn();b.ParamsChecker.defineBarsGradientAngle();b.ParamsChecker.defineCategories();b.ParamsChecker.defineSecondScaleLine();b.ParamsChecker.defineScaleLineHeadings();b.ParamsChecker.defineCategoriesAxisName();b.ParamsChecker.defineZeroSeparator();b.ParamsChecker.defineHeadingsHover();
"undefined"===typeof c.categories?a=!1:"undefined"===typeof c.categories.category&&(a=!1);"undefined"===typeof c.dataset?a=!1:"undefined"===typeof c.dataset.length&&(c.dataset=[c.dataset]);return a},defineHeadingsHover:function(){var a=Bar[m].params.xmlData.chart;a.headingsHover="undefined"===typeof a.headingsHover?0:parseInt(a.headingsHover,10)},defineScaleLineHeadings:function(){var a=Bar[m].params.xmlData.chart;"undefined"===typeof a.PYAxisName&&(a.PYAxisName="");"undefined"===typeof a.SYAxisName&&
(a.SYAxisName="")},defineSecondScaleLine:function(){var a=Bar[m],b=a.params.xmlData.chart;"undefined"===typeof b.dataset.length&&(b.dataset=[b.dataset]);for(var c=b.dataset.length;c--;)"undefined"===typeof b.dataset[c].parentYAxis?b.dataset[c].parentYAxis="P":(b.dataset[c].parentYAxis=b.dataset[c].parentYAxis.toUpperCase(),"S"==b.dataset[c].parentYAxis&&(a.Base.secondYAxisExist=!0));"undefined"===typeof b.forceSAxisExistance&&(b.forceSAxisExistance="0");!1==a.Base.secondYAxisExist&&"1"===b.forceSAxisExistance&&
(a.Base.secondYAxisExist=!0)},defineCategories:function(){var a=Bar[m],b=a.params.xmlData.chart;"undefined"===typeof b.categories.category.length&&(b.categories.category=[b.categories.category]);for(var b=b.categories.category,c=b.length;c--;)b[c].label=a.Base.encodeString(b[c].label)},defineCategoriesAxisName:function(){var a=Bar[m].params.xmlData.chart;"undefined"===typeof a.categoriesAxisName&&(a.categoriesAxisName="")},defineBarsGradientAngle:function(){var a=Bar[m].params.xmlData.chart;a.barsGradientAngle=
"undefined"===typeof a.barsGradientAngle?270:isNaN(a.barsGradientAngle)?270:(parseInt(a.barsGradientAngle,10)+270)%360;"undefined"===typeof a.barsGradientOpacity?a.barsGradientOpacity="100":isNaN(a.barsGradientOpacity)&&(a.barsGradientOpacity="100");"undefined"===typeof a.barsHoverColor&&(a.barsHoverColor="none")},defineColumn:function(){var a=Bar[m].params.xmlData.chart;"undefined"===typeof a.isColumn&&(a.isColumn="0")},defineBarsSpacing:function(){var a=Bar[m].params.xmlData.chart;"undefined"===
typeof a.barsSpacing?a.barsSpacing=0:isNaN(a.barsSpacing)?a.barsSpacing=0:isNaN(a.barsSpacing)?a.barsSpacing=0:(a.barsSpacing=parseFloat(a.barsSpacing,10),0>a.barsSpacing&&(a.barsSpacing=0))},defineTrendLines:function(){var a=Bar[m],b=a.params.xmlData.chart;"undefined"!==typeof b.trendLines?null!==b.trendLines?"undefined"!==typeof b.trendLines.line&&null!==b.trendLines.line&&("undefined"===typeof b.trendLines.line.length&&(b.trendLines.line=[b.trendLines.line]),a.ParamsChecker.trendLinesDefined=!0):
(b.trendLines={},b.trendLines.line=[]):(b.trendLines={},b.trendLines.line=[])},defineShowChartsBase:function(){var a=Bar[m].params.xmlData.chart;"undefined"===typeof a.showChartsBase&&(a.showChartsBase="1")},defineDatasets:function(){var a=Bar[m],b=a.params.xmlData.chart,c=b.dataset;"undefined"===typeof b.categories.category.length&&(b.categories.category=[b.categories.category]);"undefined"===typeof c.length&&(c=[c]);for(var e=c.length;e--;)if("undefined"!==typeof c[e].set){"1"===b.stacked&&(c[e].renderAs=
"column",c[e].parentYAxis="P");"0"===b.isColumn&&(c[e].renderAs="column");if("undefined"===typeof c[e].color||!a.Base.colorDefaultVault.testColor(c[e].color))c[e].color=a.Base.colorDefaultVault.getColor();"undefined"===typeof c[e].renderAs?c[e].renderAs="column":(c[e].renderAs=c[e].renderAs.toLowerCase(),"line"===c[e].renderAs?("undefined"===typeof c[e].anchorAlpha&&(c[e].anchorAlpha="100"),"undefined"===typeof c[e].lineAlpha&&(c[e].lineAlpha="100"),"undefined"===typeof c[e].showShadow&&(c[e].showShadow=
"1"),"undefined"===typeof c[e].anchorRadius&&(c[e].anchorRadius=3),"undefined"===typeof c[e].anchorBorderWidth&&(c[e].anchorBorderWidth=1),c[e].anchorFillColor="undefined"===typeof c[e].anchorFillColor?"ffffff":c[e].anchorFillColor.replace("#",""),c[e].anchorBorderColor="undefined"===typeof c[e].anchorBorderColor?c[e].color:c[e].anchorBorderColor.replace("#",""),"undefined"===typeof c[e].lineWidth&&(c[e].lineWidth=2)):c[e].renderAs="column");"undefined"===typeof c[e].showValues&&(c[e].showValues=
"0");"undefined"===typeof c[e].rotateValues&&(c[e].rotateValues="0");"undefined"===typeof c[e].positionAtTop&&(c[e].positionAtTop="0");"undefined"===typeof c[e].syncLabelColor&&(c[e].syncLabelColor="0");"undefined"===typeof c[e].rotateLabels&&(c[e].rotateLabels="0");"undefined"===typeof c[e].labelsAngle?c[e].labelsAngle="1"==c[e].rotateLabels?-90:0:(c[e].labelsAngle=parseInt(c[e].labelsAngle,10),0!==c[e].labelsAngle&&(-45!==c[e].labelsAngle&&-90!==c[e].labelsAngle)&&(c[e].labelsAngle=0));null===c[e].set&&
(c[e].set=[]);"undefined"===typeof c[e].set.length&&(c[e].set=[c[e].set]);for(var f=c[e].set.length;f--;)if(c[e].set[f]){c[e].set[f].toolText="undefined"!==typeof c[e].set[f].toolText?a.Base.encodeString(c[e].set[f].toolText):"";"undefined"===typeof c[e].set[f].url&&(c[e].set[f].url="");c[e].set[f].jsFunction="undefined"===typeof c[e].set[f].jsFunction?"":a.Base.encodeString(c[e].set[f].jsFunction);if("undefined"===typeof c[e].set[f].color||!a.Base.colorDefaultVault.testColor(c[e].set[f].color))c[e].set[f].color=
c[e].color;c[e].set[f].positiveErrorPossible="undefined"!==typeof c[e].set[f].positiveErrorPossible?isNaN(c[e].set[f].positiveErrorPossible)?!1:parseFloat(c[e].set[f].positiveErrorPossible,10):!1;c[e].set[f].negativeErrorPossible="undefined"!==typeof c[e].set[f].negativeErrorPossible?isNaN(c[e].set[f].negativeErrorPossible)?!1:parseFloat(c[e].set[f].negativeErrorPossible,10):!1;"undefined"===typeof c[e].set[f].value?c[e].set[f].value="":null===c[e].set[f].value&&(c[e].set[f].value="");if(""!==c[e].set[f].value){var h=
parseFloat(c[e].set[f].value,10);"undefined"!==typeof c[e].showValues&&"undefined"!==typeof c[e].positionAtTop&&(0>h&&("line"!==c[e].renderAs&&"1"===c[e].showValues&&"1"===c[e].positionAtTop)&&(a.Base.hasNegativeBarValuesAtTop=!0),0<h&&("line"!==c[e].renderAs&&"1"===c[e].showValues&&"1"===c[e].positionAtTop)&&(a.Base.hasPositiveBarValuesAtTop=!0))}}}},defineChartMargins:function(){var a=Bar[m].params.xmlData.chart;"undefined"===typeof a.chartBottomMargin&&(a.chartBottomMargin="0");"undefined"===typeof a.chartLeftMargin&&
(a.chartLeftMargin="10");"undefined"===typeof a.chartRightMargin&&(a.chartRightMargin="0");"undefined"===typeof a.chartTopMargin&&(a.chartTopMargin="0")},defineStacked:function(){var a=Bar[m].params.xmlData.chart;"undefined"===typeof a.stacked&&(a.stacked="0")},defineChartCanvas:function(){var a=Bar[m],b=a.params.xmlData.chart;"undefined"===typeof b.canvasBorderThickness&&(b.canvasBorderThickness="1");b.canvasBorderColor="undefined"===typeof b.canvasBorderColor||!a.Base.colorDefaultVault.testColor(b.canvasBorderColor)?
"999999":b.canvasBorderColor.replace("#","");if("undefined"===typeof b.canvasBgColor)b.canvasBgColor="e6e6e6,ffffff";else if(colors=b.canvasBgColor.split(" ").join("").split(","),1===colors.length&&a.Base.colorDefaultVault.testColor(colors[0]))b.canvasBgColor=b.canvasBgColor.split(" ").join("");else if(1<colors.length){for(var c=!0,e=0,f=colors.length;e<f&&!(c=a.Base.colorDefaultVault.testColor(colors[e]),!c);e++);b.canvasBgColor=c?colors.join(","):"e6e6e6,ffffff"}"undefined"===typeof b.canvasBgAngle?
b.canvasBgAngle=45:(b.canvasBgAngle=parseInt(b.canvasBgAngle,10),360===b.canvasBgAngle&&(b.canvasBgAngle=0));b.canvasBgAlpha="undefined"===typeof b.canvasBgAlpha?100:parseInt(b.canvasBgAlpha,10);b.showXAxisValues="undefined"===typeof b.showXAxisValues?1:isNaN(b.showXAxisValues)?1:parseInt(b.showXAxisValues,10);b.showCategoryLabels="undefined"===typeof b.showCategoryLabels?1:parseInt(b.showCategoryLabels,10);"undefined"===typeof b.rotateNames&&(b.rotateNames="0");b.canvasPadding="undefined"===typeof b.canvasPadding?
10:parseInt(b.canvasPadding,10);a.Base.barsVerticalPadding=b.canvasPadding;b.barsMaxHeightCoef="undefined"===typeof b.barsMaxHeightCoef?0.2:parseFloat(b.barsMaxHeightCoef,10);a.Base.barsMaxHeightCoef=b.barsMaxHeightCoef},defineBackground:function(){var a=Bar[m],b=a.params.xmlData.chart;if("undefined"===typeof b.bgColor)b.bgColor="e6e6e6,FFFFFF";else if(colors=b.bgColor.split(" ").join("").split(","),1===colors.length&&a.Base.colorDefaultVault.testColor(colors[0]))b.bgColor=b.bgColor.split(" ").join("");
else if(1<colors.length){for(var c=!0,e=0,f=colors.length;e<f&&!(c=a.Base.colorDefaultVault.testColor(colors[e]),!c);e++);b.bgColor=c?colors.join(","):"e6e6e6,FFFFFF"}"undefined"===typeof b.bgAngle?b.bgAngle=45:(b.bgAngle=parseInt(b.bgAngle,10),360===b.bgAngle&&(b.bgAngle=0));b.bgAlpha="undefined"===typeof b.bgAlpha?100:parseInt(b.bgAlpha,10)},defineLegend:function(){var a=Bar[m],b=a.params.xmlData.chart;"undefined"===typeof b.showLegend&&(b.showLegend="0");b.legendPadding="undefined"===typeof b.legendPadding?
5:parseInt(b.legendPadding,10);0==b.showLegend&&(b.legendPadding=0);if("undefined"===typeof b.legendBackgroundColor||!a.Base.colorDefaultVault.testColor(b.legendBackgroundColor))b.legendBackgroundColor="EAEAEA";if("undefined"===typeof b.legendBorderColor||!a.Base.colorDefaultVault.testColor(b.legendBorderColor))b.legendBorderColor="999999";"undefined"===typeof b.legendBorderWidth&&(b.legendBorderWidth="1")},defineUndefinedFontStyles:function(a){"undefined"===typeof a.bold&&(a.bold="0");"undefined"===
typeof a.font&&(a.font="Tahoma");"undefined"===typeof a.size&&(a.size="10");a.color="undefined"===typeof a.color||!Bar[m].Base.colorDefaultVault.testColor(a.color)?"000000":a.color.replace("#","");return a},checkStyles:function(){var a=Bar[m],b=a.params.xmlData.chart,c=!1,e=!1,f=!1;"undefined"!==typeof b.styles&&("undefined"!==typeof b.styles.application&&"undefined"!==typeof b.styles.application.apply&&("undefined"===typeof b.styles.application.apply.length&&(b.styles.application.apply=[b.styles.application.apply]),
e=!0),"undefined"!==typeof b.styles.definition&&"undefined"!==typeof b.styles.definition.style&&("undefined"===typeof b.styles.definition.style.length&&(b.styles.definition.style=[b.styles.definition.style]),f=!0));f&&e&&(c=!0);a.ParamsChecker.stylesDefined=c},getDefinedFontStyles:function(a){var b=Bar[m],c=b.params.xmlData.chart,e={};if(b.ParamsChecker.stylesDefined){for(var f=c.styles.application.apply,h="",g=0,j=f.length;g<j;g++)f[g].toObject===a&&(h=f[g].styles);if(""!==h){a=c.styles.definition.style;
g=0;for(j=a.length;g<j;g++)a[g].name==h&&"font"==a[g].type&&(e.bold="undefined"!==typeof a[g].bold?a[g].bold:"0",e.font="undefined"!==typeof a[g].font?a[g].font:"Tahoma",e.color="undefined"!==typeof a[g].color&&b.Base.colorDefaultVault.testColor(a[g].color)?a[g].color:"000000",e.size="undefined"!==typeof a[g].size?a[g].size:"10")}}return e},defineFonts:function(){var a=Bar[m],b=a.params.xmlData.chart;"undefined"===typeof b.baseFont&&(b.baseFont="Tahoma");if("undefined"===typeof b.baseFontColor||!a.Base.colorDefaultVault.testColor(b.baseFontColor))b.baseFontColor=
"000000";b.baseFontSize="undefined"===typeof b.baseFontSize?"10":b.baseFontSize.match(/[0-9]*/).join("");"undefined"===typeof b.outCnvBaseFont&&(b.outCnvBaseFont="Tahoma");b.outCnvBaseFontColor="undefined"===typeof b.outCnvBaseFontColor||!a.Base.colorDefaultVault.testColor(b.outCnvBaseFontColor)?"000000":b.outCnvBaseFontColor.replace("#","");b.outCnvBaseFontSize="undefined"===typeof b.outCnvBaseFontSize?"10":b.outCnvBaseFontSize.match(/[0-9]*/).join("")},defineTooltip:function(){var a=Bar[m],b=a.params.xmlData.chart;
if("undefined"===typeof b.toolTipBgColor||!a.Base.colorDefaultVault.testColor(b.toolTipBgColor))b.toolTipBgColor="ffffff";if("undefined"===typeof b.toolTipBorderColor||!a.Base.colorDefaultVault.testColor(b.toolTipBorderColor))b.toolTipBorderColor="808080";"undefined"===typeof b.toolTipBorderWidth&&(b.toolTipBorderWidth="1");"undefined"===typeof b.toolTipFontFamily&&(b.toolTipFontFamily="Tahoma, Arial");"undefined"===typeof b.toolTipFontSize&&(b.toolTipFontSize="10");if("undefined"===typeof b.toolTipFontColor||
!a.Base.colorDefaultVault.testColor(b.toolTipFontColor))b.toolTipFontColor="333333"},defineNumDivLines:function(){var a=Bar[m],b=a.params.xmlData.chart;if("undefined"===typeof b.divLineColor||!a.Base.colorDefaultVault.testColor(b.divLineColor))b.divLineColor="333333";"undefined"===typeof b.numDivLines&&(b.numDivLines="0");b.numDivLines="undefined"===typeof b.numDivLines?0:parseInt(b.numDivLines,10)},defineDecimals:function(){var a=Bar[m].params.xmlData.chart;a.decimals="undefined"===typeof a.decimals?
0:parseInt(a.decimals,10)},defineDepth:function(){var a=Bar[m],b=a.params.xmlData.chart;"undefined"===typeof b.depth?b.depth=4:!isNaN(b.depth)&&""!==b.depth?(b.depth=parseInt(b.depth,10),0>b.depth?b.depth=4:7<b.depth&&(b.depth=7)):b.depth=4;b.showDepthLeft="undefined"===typeof b.showDepthLeft?1:parseInt(b.showDepthLeft,10);b.showDepthRight="undefined"===typeof b.showDepthRight?1:parseInt(b.showDepthRight,10);"undefined"===typeof b.depthColorLeft&&(b.depthColorLeft="AAAAAA");"undefined"===typeof b.depthColorRight&&
(b.depthColorRight="BBBBBB");"undefined"===typeof b.setOnePixelBarMinSize&&(b.setOnePixelBarMinSize=0);a.Base.displacementCoefficient=b.depth},definePrefixSuffix:function(){var a=Bar[m].params.xmlData.chart;"undefined"===typeof a.numberSuffix&&(a.numberSuffix="");"undefined"===typeof a.numberPrefix&&(a.numberPrefix="")},defineZeroSeparator:function(){var a=Bar[m].params.xmlData.chart;a.showZeroSeparator="undefined"===typeof a.showZeroSeparator?1:parseInt(a.showZeroSeparator,10);"undefined"===typeof a.forseShowZeroSeparator&&
(a.forseShowZeroSeparator="0");a.zeroSeparatorColor="undefined"===typeof a.zeroSeparatorColor?"707070":a.zeroSeparatorColor.replace("#","");"undefined"===typeof a.zeroSeparatorAlpha&&(a.zeroSeparatorAlpha="0.6");a.zeroSeparatorBorderColor="undefined"===typeof a.zeroSeparatorBorderColor?"707070":a.zeroSeparatorBorderColor.replace("#","");"undefined"===typeof a.zeroSeparatorBorderWidth&&(a.zeroSeparatorBorderWidth="1")},defineCaption:function(){var a=Bar[m],b=a.params.xmlData.chart;b.caption="undefined"===
typeof b.caption?"":a.Base.encodeString(b.caption)}},createChartContainers:function(a){var b=Bar[m],c=document.createElement("div");c.style.width=b.width+"px";c.style.height=b.height+"px";c.style.position="relative";c.style.padding="0";c.style.margin="0";c.style.top="0px";c.style.left="0px";a.appendChild(c);d=document.createElement("div");d.style.width=b.width+"px";d.style.height=b.height+"px";d.style.position="absolute";d.style.overflow="hidden";d.style.padding="0";d.style.margin="0";d.style.top=
"0px";d.style.left="0px";c.appendChild(d);return{chartContainer:d,relativeContainer:c}},getSize:function(a){var b=0,c=0,e=0,f=0,h=0,g=0;Bar[m].Render.isMobile.any()&&("undefined"!==typeof a.scrollWidth&&(b=a.scrollWidth),"undefined"!==typeof a.scrollHeight&&(c=a.scrollHeight));"undefined"!==typeof a.offsetWidth&&(e=a.offsetWidth);"undefined"!==typeof a.offsetHeight&&(f=a.offsetHeight);"undefined"!==typeof a.clientWidth&&(h=a.clientWidth);"undefined"!==typeof a.clientHeight&&(g=a.clientHeight);return{width:Math.max(h,
e,b),height:Math.max(g,f,c)}},deleteChilds:function(a){for(var b=a.childNodes,c=b.length;c--;)a.removeChild(b[c])},addEvent:function(a,b,c){if(a.addEventListener)return a.addEventListener(b,c,!1),!0;if(a.attachEvent)return a.attachEvent("on"+b,c);a["on"+b]=c},disableSelection:function(a){"undefined"!=typeof a.onselectstart?a.onselectstart=function(){return!1}:"undefined"!=typeof a.style.MozUserSelect?a.style.MozUserSelect="none":a.onmousedown=function(){return!1};a.style.cursor="default"},getColorDecimalCode:function(a){a=
a.replace("#","");var b=a.substring(0,2),c=a.substring(2,4);a=a.substring(4,6);b=parseInt(b,16);c=parseInt(c,16);a=parseInt(a,16);return{r:b,g:c,b:a}},ToolTip:{reference:null,visible:!1,initialize:function(){var a=Bar[m],b=a.params.xmlData.chart,c=document.getElementById("Bar-chart-"+m+"-tooltip-container");c||(c=document.createElement("div"),c.id="Bar-chart-"+m+"-tooltip-container");c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.border=b.toolTipBorderWidth+"px solid #"+
b.toolTipBorderColor;c.style.display="none";c.style.padding="3px 5px";c.style.background="#"+b.toolTipBgColor;c.style.fontFamily=b.toolTipFontFamily;c.style.fontSize=b.toolTipFontSize+"px";c.style.color="#"+b.toolTipFontColor;c.style.boxShadow="2px 2px 3px #999999";c.style.zIndex="99999";document.getElementsByTagName("body")[0].appendChild(c);a.ToolTip.reference=c;a.addEvent(document,"mousemove",a.ToolTip.moveHandler)},moveHandler:function(a){if("undefined"!==typeof Bar[m]){var b=Bar[m];b.ToolTip.visible&&
(a=a||window.event,b.ToolTip.moveToolTip(a))}},moveToolTip:function(a){if("undefined"!==typeof a){var b=Bar[m],c=0,e=0;a.pageX||a.pageY?(c=a.pageX,e=a.pageY):(c=a.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft)-document.documentElement.clientLeft,e=a.clientY+(document.documentElement.scrollTop||document.body.scrollTop)-document.documentElement.clientTop);b.ToolTip.reference.style.left=c+20+"px";b.ToolTip.reference.style.top=e+20+"px"}},show:function(a){var b=Bar[m];b.ToolTip.moveToolTip(window.event);
b.deleteChilds(b.ToolTip.reference);null!==b.ToolTip&&(b.ToolTip.reference.innerHTML=a,b.ToolTip.reference.style.display="block",b.ToolTip.visible=!0)},hide:function(){var a=Bar[m];null!==a.ToolTip&&(a.ToolTip.visible=!1,a.ToolTip.reference.style.display="none")}},ChartLabels:{c:null,p:null,s:null,hide:function(){var a=Bar[m],b=a.ChartLabels.c,c=a.ChartLabels.p,a=a.ChartLabels.s;b&&(b.style.visible=!1,b.style.display="none");c&&(c.style.visible=!1,c.style.display="none");a&&(a.style.visible=!1,a.style.display=
"none")},show:function(){var a=Bar[m],b=a.ChartLabels.c,c=a.ChartLabels.p,a=a.ChartLabels.s;b&&(b.style.visible=!0,b.style.display="block");c&&(c.style.visible=!0,c.style.display="block");a&&(a.style.visible=!0,a.style.display="block")}},Render:{svgNS:"http://www.w3.org/2000/svg",render:null,androidDetected:!1,detectAndroid:function(){var a=navigator.userAgent.toLowerCase();Bar[m].Render.androidDetected=-1<a.indexOf("android")},isMobile:{Android:function(){return navigator.userAgent.match(/Android/i)?
!0:!1},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)?!0:!1},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)?!0:!1},Windows:function(){return navigator.userAgent.match(/IEMobile/i)?!0:!1},any:function(){var a=Bar[m].Render;return a.isMobile.Android()||a.isMobile.BlackBerry()||a.isMobile.iOS()||a.isMobile.Windows()}},supportsSVG:function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},supportsVML:function(){var a=
document.body.appendChild(document.createElement("div"));a.innerHTML='<v:shape id="vml_flag1" adj="1" />';var b=a.firstChild;b.style.behavior="url(#default#VML)";b=b?"object"==typeof b.adj:!0;a.parentNode.removeChild(a);return b},supportsCanvas:function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},InitializeRender:function(){var a=Bar[m];a.Render.detectAndroid();var b=a.Render.supportsSVG(),c=a.Render.supportsVML(),e=a.Render.supportsCanvas();if(b)a.Render.render=
"SVG";else if(c)a.Render.render="VML";else if(e)a.Render.render="Canvas";else throw Error("Not Found any supported renderer for Bar chart!");a.passedParameters.forceRender&&(a.Render.render=a.passedParameters.forceRender)}},NodeStore:{root:null,drawnDivLinesLabels:[],documentFragmentRef:null},NodeFactory:{SVG:{mainGradientId:"",topGradientId:"",rightGradientId:"",createRoot:function(){var a=Bar[m],b=document.createElementNS(a.Render.svgNS,"svg");a.NodeStore.documentFragmentRef=document.createDocumentFragment();
a.NodeStore.documentFragmentRef.appendChild(b);b.setAttribute("width",a.width);b.setAttribute("height",a.height);a.NodeStore.root=b;a.NodeFactory.SVG.createGradients()},drawLogo:{init:function(){var a=Bar[m],b=a.NodeStore.root,c=a.width-130,e=a.height-50,f=""+parseInt(1073741824*Math.random(),10);a.NodeFactory.SVG.drawLogo.createGradient(b,f,{cx:c+20,cy:e+20,radius:30});a.NodeFactory.SVG.drawLogo.drawCirclePart({angleStart:70,angleEnd:340,color:"#434343",cx:c+20,cy:e+20,radius:20,container:b});a.NodeFactory.SVG.drawLogo.drawCirclePart({angleStart:-20,
angleEnd:70,color:"#F26734",cx:c+20+2,cy:e+20+1,radius:20,container:b});a.NodeFactory.SVG.drawLogo.createText(b,c+20+9,e+20+13)},logoHoverHandler:function(a){var b=Bar[m];b.addEvent(a,"mouseover",function(a){a.target.style.cursor="pointer"});b.addEvent(a,"click",function(){window.location.assign("http://www.hdcharts.com/")});b.addEvent(a,"mouseout",function(a){a.target.style.cursor="default"})},drawPoly:function(a){var b=Bar[m],c=document.createElementNS(b.Render.svgNS,"path"),e,f=a.points,h=f.length-
1;for(e="M"+(f[h].x+" "+f[h].y);h--;)e=e+"L"+f[h].x+" "+f[h].y;c.setAttribute("d",e+" z");c.setAttribute("fill",a.color);c.setAttribute("fill-opacity",a.opacity);a.container.appendChild(c);b.NodeFactory.SVG.drawLogo.logoHoverHandler(c)},drawCirclePart:function(a){var b=Bar[m],c=[],e=a.cx,f=a.cy,h=a.radius;c.push({x:e,y:f});for(var g=a.angleStart;g<=a.angleEnd;g++){var j=g*(Math.PI/180),k=0,l=0,k=e+h*Math.cos(j),l=f+h*Math.sin(j);c.push({x:k,y:l})}b.NodeFactory.SVG.drawLogo.drawPoly({points:c,color:a.color,
container:a.container})},createGradient:function(a,b,c){var e=Bar[m],f=document.createElementNS(e.Render.svgNS,"radialGradient");f.id=b;f.setAttribute("gradientUnits","userSpaceOnUse");f.setAttribute("cx",c.cx);f.setAttribute("cy",c.cy);f.setAttribute("r",c.radius);b=document.createElementNS(e.Render.svgNS,"stop");b.setAttribute("offset","0%");b.setAttribute("stop-color","#5f5f5f");b.setAttribute("stop-opacity","100");f.appendChild(b);e=document.createElementNS(e.Render.svgNS,"stop");e.setAttribute("offset",
"100%");e.setAttribute("stop-color","#434343");e.setAttribute("stop-opacity","100");f.appendChild(e);a.appendChild(f)},createText:function(a,b,c){var e=Bar[m],f=document.createElementNS(e.Render.svgNS,"text");f.appendChild(document.createTextNode("HD"));f.style.fontFamily="Tahoma";f.style.fontSize="17px";f.style.fontWeight="bold";f.setAttribute("fill","#434343");f.setAttribute("x",b);f.setAttribute("y",c);a.appendChild(f);e.NodeFactory.SVG.drawLogo.logoHoverHandler(f);f=document.createElementNS(e.Render.svgNS,
"text");f.appendChild(document.createTextNode("CHARTS"));f.style.fontFamily="Tahoma";f.style.fontSize="17px";f.style.fontWeight="bold";f.setAttribute("fill","#F15A23");f.setAttribute("x",b+27);f.setAttribute("y",c);a.appendChild(f);e.NodeFactory.SVG.drawLogo.logoHoverHandler(f)}},initBackgroundGradient:function(a,b,c,e,f){var h=Bar[m],g=document.createElementNS(h.Render.svgNS,"linearGradient");g.id="Bar-"+e+"-gradient-"+m+"-"+a+"-"+b+"-"+c;c=parseInt(c,10)%360;switch(c){case 0:g.setAttribute("x1",
"0%");g.setAttribute("y1","100%");g.setAttribute("x2","0%");g.setAttribute("y2","0%");break;case 45:g.setAttribute("x1","100%");g.setAttribute("y1","100%");g.setAttribute("x2","0%");g.setAttribute("y2","0%");break;case 90:g.setAttribute("x1","100%");g.setAttribute("y1","0%");g.setAttribute("x2","0%");g.setAttribute("y2","0%");break;case 135:g.setAttribute("x1","100%");g.setAttribute("y1","0%");g.setAttribute("x2","0%");g.setAttribute("y2","100%");break;case 180:g.setAttribute("x1","0%");g.setAttribute("y1",
"0%");g.setAttribute("x2","0%");g.setAttribute("y2","100%");break;case 225:g.setAttribute("x1","0%");g.setAttribute("y1","0%");g.setAttribute("x2","100%");g.setAttribute("y2","100%");break;case 270:g.setAttribute("x1","0%");g.setAttribute("y1","0%");g.setAttribute("x2","100%");g.setAttribute("y2","0%");break;case 315:g.setAttribute("x1","0%");g.setAttribute("y1","100%");g.setAttribute("x2","100%");g.setAttribute("y2","0%");break;case 360:g.setAttribute("x1","0%"),g.setAttribute("y1","100%"),g.setAttribute("x2",
"0%"),g.setAttribute("y2","0%")}c=document.createElementNS(h.Render.svgNS,"stop");c.setAttribute("offset","0%");c.setAttribute("stop-color",a);c.setAttribute("stop-opacity",f);g.appendChild(c);a=document.createElementNS(h.Render.svgNS,"stop");a.setAttribute("offset","100%");a.setAttribute("stop-color",b);a.setAttribute("stop-opacity",f);g.appendChild(a);h.NodeStore.root.appendChild(g);return g.id},barHoverHandler:function(a,b,c,e){return function(){var f=Bar[m],h=f.params.xmlData.chart;if("undefined"!==
typeof b)if("default"===h.barsHoverColor){var g=f.Base.getHoverColor(b.color);b.front.setAttribute("fill","#"+g);0<h.depth&&(b.right.setAttribute("fill","#"+g),b.top.setAttribute("fill","#"+g))}else"none"!==h.barsHoverColor&&(b.front.setAttribute("fill","#"+h.barsHoverColor),0<h.depth&&(b.right.setAttribute("fill","#"+h.barsHoverColor),b.top.setAttribute("fill","#"+h.barsHoverColor)));""!==a&&f.ToolTip.show(a);"undefined"!==typeof c&&c.setAttribute("r",parseInt(e,10)+3)}},barOutHandler:function(a,
b,c){return function(){var e=Bar[m].params.xmlData.chart;"undefined"!==typeof a&&"none"!==e.barsHoverColor&&(a.front.setAttribute("fill",a.color),0<e.depth&&(a.right.setAttribute("fill",a.color),a.top.setAttribute("fill",a.color)));Bar[m].ToolTip.hide();"undefined"!==typeof b&&b.setAttribute("r",c)}},drawCategoriesAxisName:function(){var a=Bar[m],b=a.params.xmlData.chart,c=b.categoriesAxisName,e=document.createElementNS(a.Render.svgNS,"text"),f=a.ParamsChecker.defineUndefinedFontStyles(a.ParamsChecker.getDefinedFontStyles("categoriesAxisName")),
h=a.NodeFactory.SVG.getBiggestBBox([c],{fontFamily:f.font,fontSize:f.size});if("1"===b.isColumn){if(h.w>parseInt(a.width/2,10))var g=parseInt(h.w/c.length,10),c=c.slice(0,parseInt(a.width/(3*g),10))+"..",h=a.NodeFactory.SVG.getBiggestBBox([c],{fontFamily:f.font,fontSize:f.size});g=parseInt(a.width/2,10)-h.w/2;h=parseInt(a.height-(a.Base.legendSize.h+parseInt(b.chartBottomMargin,10)+h.h/2),10)}else h.w>parseInt(a.height/2,10)&&(g=parseInt(h.w/c.length,10),c=c.slice(0,parseInt(a.height/(3*g),10))+"..",
h=a.NodeFactory.SVG.getBiggestBBox([c],{fontFamily:f.font,fontSize:f.size})),g=parseInt(b.chartLeftMargin,10)+h.h/2+a.Base.leftLabelsSpacing,h=parseInt(a.height/2+h.w/2,10);e.appendChild(document.createTextNode(c));e.style.fontFamily=f.font;e.style.fontSize=f.size+"px";e.style.fontWeight="1"===f.bold?"bold":"normal";e.setAttribute("fill","#"+f.color);a.NodeStore.root.appendChild(e);e.setAttribute("x",g);e.setAttribute("y",h);"0"===b.isColumn&&e.setAttribute("transform","rotate(-90 "+g+","+h+")");
a.ChartLabels.c=e},drawPrimaryAxisName:function(){var a=Bar[m],b=a.params.xmlData.chart,c=b.PYAxisName,e=document.createElementNS(a.Render.svgNS,"text"),f=a.ParamsChecker.defineUndefinedFontStyles(a.ParamsChecker.getDefinedFontStyles("PYAxisName")),h=parseInt(b.chartLeftMargin,10)+a.Base.leftLabelsSpacing,g=parseInt(a.Base.barsPlace.h/2,10),j=a.NodeFactory.SVG.getBiggestBBox([c],{fontFamily:f.font,fontSize:f.size});"1"===b.isColumn?(j.w>parseInt(a.height/3,10)&&(j=parseInt(j.w/c.length,10),c=c.slice(0,
parseInt(a.height/(3*j),10))+"..",j=a.NodeFactory.SVG.getBiggestBBox([c],{fontFamily:f.font,fontSize:f.size})),b=h+j.h/2,g+=j.w/2,e.setAttribute("transform","rotate(-90 "+b+","+g+")")):(j.w>parseInt(a.width/3,10)&&(j=parseInt(j.w/c.length,10),c=c.slice(0,parseInt(a.width/(3*j),10))+"..",j=a.NodeFactory.SVG.getBiggestBBox([c],{fontFamily:f.font,fontSize:f.size})),h=parseInt(a.width,10)/2,g=a.Base.barsPlace.y+a.Base.barsPlace.h-j.h/4,1===b.showXAxisValues&&(g+=a.Base.bottomLabelsHeight),b=h-j.w/2,g+=
j.h);e.appendChild(document.createTextNode(c));e.style.fontFamily=f.font;e.style.fontSize=f.size+"px";e.style.fontWeight="1"===f.bold?"bold":"normal";e.setAttribute("fill","#"+f.color);a.NodeStore.root.appendChild(e);e.setAttribute("x",b);e.setAttribute("y",g);a.ChartLabels.p=e},drawSecondaryAxisName:function(){var a=Bar[m],b=a.params.xmlData.chart,c=b.SYAxisName,e=document.createElementNS(a.Render.svgNS,"text"),f=a.ParamsChecker.defineUndefinedFontStyles(a.ParamsChecker.getDefinedFontStyles("SYAxisName")),
h=a.width-parseInt(b.chartRightMargin,10),g=parseInt(a.Base.barsPlace.h/2,10),j=a.NodeFactory.SVG.getBiggestBBox([c],{fontFamily:f.font,fontSize:f.size});"1"===b.isColumn?(j.w>parseInt(a.height/3,10)&&(j=parseInt(j.w/c.length,10),c=c.slice(0,parseInt(a.height/(3*j),10))+"..",j=a.NodeFactory.SVG.getBiggestBBox([c],{fontFamily:f.font,fontSize:f.size})),b=h-j.h/4,g+=j.w/2,e.setAttribute("transform","rotate(-90 "+b+","+g+")")):(j.w>parseInt(a.width/3,10)&&(j=parseInt(j.w/c.length,10),c=c.slice(0,parseInt(a.width/
(3*j),10))+"..",j=a.NodeFactory.SVG.getBiggestBBox([c],{fontFamily:f.font,fontSize:f.size})),h=a.width/2,g=a.Base.titleHeight+parseInt(b.chartTopMargin,10),b=h-j.w/2,g+=j.h);e.appendChild(document.createTextNode(c));e.style.fontFamily=f.font;e.style.fontSize=f.size+"px";e.style.fontWeight="1"===f.bold?"bold":"normal";e.setAttribute("fill","#"+f.color);a.NodeStore.root.appendChild(e);e.setAttribute("x",b);e.setAttribute("y",g);a.ChartLabels.s=e},drawLine:function(a){var b=Bar[m],c=document.createElementNS(b.Render.svgNS,
"line");c.setAttribute("x1",a.x1);c.setAttribute("y1",a.y1);c.setAttribute("x2",a.x2);c.setAttribute("y2",a.y2);c.setAttribute("stroke","#"+a.color);c.setAttribute("stroke-width",a.lineWidth);c.setAttribute("stroke-opacity",parseInt(a.lineAlpha,10)/100);if("0"!==a.showShadow){var e=b.Base.shadowOffset,f=document.createElementNS(b.Render.svgNS,"line");f.setAttribute("x1",a.x1+e);f.setAttribute("y1",a.y1+e);f.setAttribute("x2",a.x2+e);f.setAttribute("y2",a.y2+e);f.setAttribute("stroke","#999999");f.setAttribute("stroke-opacity",
b.Base.shadowOpacity/100);a.lineWidth&&f.setAttribute("stroke-width",parseInt(parseInt(a.lineWidth,10)*b.Base.shadowWidthCoef,10));b.NodeStore.root.appendChild(f)}b.NodeStore.root.appendChild(c)},drawAnchor:function(a){var b=Bar[m],c=document.createElementNS(b.Render.svgNS,"circle");c.setAttribute("cx",a.x);c.setAttribute("cy",a.y);c.setAttribute("r",a.anchorRadius);c.setAttribute("stroke-width",a.anchorBorderWidth);c.setAttribute("stroke-opacity",parseInt(a.anchorAlpha,10)/100);c.setAttribute("fill",
"#"+a.anchorFillColor);c.setAttribute("fill-opacity",parseInt(a.anchorAlpha,10)/100);c.setAttribute("stroke","#"+a.anchorBorderColor);var e=new b.NodeFactory.SVG.barHoverHandler(a.toolText,void 0,c,a.anchorRadius),f=new b.NodeFactory.SVG.barOutHandler(void 0,c,a.anchorRadius);b.NodeStore.root.appendChild(c);b.addEvent(c,"mouseover",e);b.addEvent(c,"mouseout",f);if(""!==a.url||""!==a.jsFunction)c.style.cursor="pointer",b.addEvent(c,"click",function(){""!==a.jsFunction&&(b.ToolTip.hide(),eval(a.jsFunction));
""!==a.url&&window.open(a.url,"_blank")})},drawBar:function(a){var b=Bar[m],c=b.params.xmlData.chart,e=b.NodeFactory.SVG.getPathStrings(a),c=c.depth,f={front:null,color:a.color,top:null,right:null,url:""!==a.url?a.url:"",jsFunction:""!==a.jsFunction?a.jsFunction:""},h=document.createElementNS(b.Render.svgNS,"path");h.setAttribute("d",e.pathMain);h.setAttribute("fill",a.color);f.front=h;b.NodeStore.root.appendChild(h);if(0!==c){var g=document.createElementNS(b.Render.svgNS,"path");g.setAttribute("d",
e.pathTop);g.setAttribute("fill",a.color);f.top=g;b.NodeStore.root.appendChild(g);var j=document.createElementNS(b.Render.svgNS,"path");j.setAttribute("d",e.pathRight);j.setAttribute("fill",a.color);f.right=j;b.NodeStore.root.appendChild(j)}h=document.createElementNS(b.Render.svgNS,"path");h.setAttribute("d",e.pathMain);h.setAttribute("fill","url(#"+b.NodeFactory.SVG.mainGradientId+")");b.NodeStore.root.appendChild(h);if(""!==a.url||""!==a.jsFunction)h.style.cursor="pointer",b.addEvent(h,"click",
function(){""!==a.jsFunction&&(b.ToolTip.hide(),eval(a.jsFunction));""!==a.url&&window.open(a.url,"_blank")});0!==c&&(g=document.createElementNS(b.Render.svgNS,"path"),g.setAttribute("d",e.pathTop),g.setAttribute("fill","url(#"+b.NodeFactory.SVG.topGradientId+")"),b.NodeStore.root.appendChild(g),j=document.createElementNS(b.Render.svgNS,"path"),j.setAttribute("d",e.pathRight),j.setAttribute("fill","url(#"+b.NodeFactory.SVG.rightGradientId+")"),b.NodeStore.root.appendChild(j));e="";a.toolText&&(e=
a.toolText);var e=new b.NodeFactory.SVG.barHoverHandler(e,f),k=new b.NodeFactory.SVG.barOutHandler(f);b.addEvent(h,"mouseover",e);b.addEvent(h,"mouseout",k);0!==c&&(b.addEvent(j,"mouseover",e),b.addEvent(j,"mouseout",k),b.addEvent(g,"mouseover",e),b.addEvent(g,"mouseout",k));return f},drawErrorLine:function(a){var b=Bar[m],c=a.points;a="M"+c[0].x+" "+c[0].y;for(var e=1,f=c.length;e<f;e++)a=a+" L "+c[e].x+" "+c[e].y;a+=" z";c=document.createElementNS(b.Render.svgNS,"path");c.setAttribute("d",a);c.setAttribute("stroke",
"#ececec");c.setAttribute("stroke-width","1px");c.setAttribute("fill","#797979");b.NodeStore.root.appendChild(c)},getPathStrings:function(a){var b=Bar[m].Base.displacementCoefficient,c=a.x-b,e=a.y+b,f=a.w;a=a.h-b;return{pathMain:"M"+c+" "+e+"L"+(c+f)+" "+e+"L"+(f+c)+" "+(e+a)+"L"+c+" "+(e+a)+" z",pathTop:"M"+c+" "+e+"L"+(c+b)+" "+(e-b)+"L"+(c+b+f)+" "+(e-b)+"L"+(c+f)+"  "+e+" z",pathRight:"M"+(c+f)+" "+e+"L"+(c+f+b)+" "+(e-b)+"L"+(c+b+f)+" "+(e+a-b)+"L"+(c+f)+"  "+(e+a)+" z"}},createGradients:function(){var a=
Bar[m];a.NodeFactory.SVG.mainGradientId=a.NodeFactory.SVG.initBackgroundGradient("#000000","#FFFFFF",a.params.xmlData.chart.barsGradientAngle,"bars-main-gradient",a.Base.barsGradientOpacity);var b=document.createElementNS(a.Render.svgNS,"linearGradient");b.id="bar-chart-"+m+"-top-line-gradient";a.NodeFactory.SVG.topGradientId="bar-chart-"+m+"-top-line-gradient";stop1=document.createElementNS(a.Render.svgNS,"stop");stop1.setAttribute("offset","0%");stop1.setAttribute("stop-color","#000000");stop1.setAttribute("stop-opacity",
"0.4");b.appendChild(stop1);stop2=document.createElementNS(a.Render.svgNS,"stop");stop2.setAttribute("offset","100%");stop2.setAttribute("stop-color","#cbcbcb");stop2.setAttribute("stop-opacity","0.4");b.appendChild(stop2);a.NodeStore.root.appendChild(b);b=document.createElementNS(a.Render.svgNS,"linearGradient");b.id="bar-chart-"+m+"-right-line-gradient";a.NodeFactory.SVG.rightGradientId="bar-chart-"+m+"-right-line-gradient";stop1=document.createElementNS(a.Render.svgNS,"stop");stop1.setAttribute("offset",
"0%");stop1.setAttribute("stop-color","#666666");stop1.setAttribute("stop-opacity","0.5");b.appendChild(stop1);stop2=document.createElementNS(a.Render.svgNS,"stop");stop2.setAttribute("offset","100%");stop2.setAttribute("stop-color","#333333");stop2.setAttribute("stop-opacity","0.5");b.appendChild(stop2);a.NodeStore.root.appendChild(b)},createBackground:function(){var a=Bar[m],b=a.params.xmlData.chart,c=document.createElementNS(a.Render.svgNS,"rect"),e=parseInt(b.bgAlpha,10)/100;c.setAttribute("x",
0);c.setAttribute("y",0);c.setAttribute("width",a.width);c.setAttribute("height",a.height);c.setAttribute("fill-opacity",e);e=b.bgColor.split(",");1==e.length?c.setAttribute("fill","#"+b.bgColor):(b=a.NodeFactory.SVG.initBackgroundGradient("#"+e[0],"#"+e[1],b.bgAngle,"background",1),c.setAttribute("fill","url(#"+b+")"));a.NodeStore.root.appendChild(c)},createBase:function(){var a=Bar[m],b=a.params.xmlData.chart,c=document.createElementNS(a.Render.svgNS,"rect"),b=a.params.xmlData.chart,e=b.canvasBgAlpha/
100,f=b.canvasBgColor.split(",");c.setAttribute("fill-opacity",e);c.setAttribute("x",a.Base.basePosition.x);c.setAttribute("y",a.Base.basePosition.y);c.setAttribute("width",a.Base.basePosition.w);c.setAttribute("height",a.Base.basePosition.h);1==f.length?c.setAttribute("fill","#"+b.canvasBgColor):(e=a.NodeFactory.SVG.initBackgroundGradient("#"+f[0],"#"+f[1],b.canvasBgAngle,"base-background",1),c.setAttribute("fill","url(#"+e+")"));c.setAttribute("stroke","#"+b.canvasBorderColor);c.setAttribute("stroke-width",
b.canvasBorderThickness);a.NodeStore.root.appendChild(c);1===parseInt(b.showDepthLeft,10)&&(c=document.createElementNS(a.Render.svgNS,"path"),e="M"+a.Base.basePosition.x+" "+a.Base.basePosition.y+"L"+a.Base.basePosition.x+" "+(a.Base.basePosition.y+a.Base.basePosition.h)+"L"+(a.Base.basePosition.x-a.Base.displacementCoefficient)+" "+(a.Base.basePosition.y+a.Base.basePosition.h+a.Base.displacementCoefficient)+"L"+(a.Base.basePosition.x-a.Base.displacementCoefficient)+" "+(a.Base.basePosition.y+a.Base.displacementCoefficient)+
" z",c.setAttribute("d",e),e=b.depthColorLeft.split(","),1==e.length?c.setAttribute("fill","#"+a.Base.changeColor(b.depthColorLeft.replace("#",""),-25).hexCode):(e=a.NodeFactory.SVG.initBackgroundGradient("#"+e[0],"#"+e[1],"180","base-background",1),c.setAttribute("fill","url(#"+e+")")),a.NodeStore.root.appendChild(c));1===parseInt(b.showDepthRight,10)&&(c=document.createElementNS(a.Render.svgNS,"path"),e="M"+a.Base.basePosition.x+" "+(a.Base.basePosition.y+a.Base.basePosition.h)+"L"+(a.Base.basePosition.x+
a.Base.basePosition.w)+" "+(a.Base.basePosition.y+a.Base.basePosition.h)+"L"+(a.Base.basePosition.x+a.Base.basePosition.w-a.Base.displacementCoefficient)+" "+(a.Base.basePosition.y+a.Base.basePosition.h+a.Base.displacementCoefficient)+"L"+(a.Base.basePosition.x-a.Base.displacementCoefficient)+" "+(a.Base.basePosition.y+a.Base.basePosition.h+a.Base.displacementCoefficient)+" z",c.setAttribute("d",e),e=b.depthColorRight.split(","),1==e.length?c.setAttribute("fill","#"+b.depthColorRight.replace("#",
"")):(e=a.NodeFactory.SVG.initBackgroundGradient("#"+e[0],"#"+e[1],"90","base-background",1),c.setAttribute("fill","url(#"+e+")")),a.NodeStore.root.appendChild(c))},createZeroSeparator:function(a){var b=Bar[m],c=b.params.xmlData.chart,e=document.createElementNS(b.Render.svgNS,"path"),f=b.Base.getValuePosition(0),h="",h=a?"M"+b.Base.barsPlace.x+" "+f+"L"+(b.Base.barsPlace.x+b.Base.barsPlace.w)+" "+f+"L"+(b.Base.barsPlace.x+b.Base.barsPlace.w-b.Base.displacementCoefficient)+" "+(f+b.Base.displacementCoefficient)+
"L"+(b.Base.barsPlace.x-b.Base.displacementCoefficient)+" "+(f+b.Base.displacementCoefficient)+" z":"M"+f+" "+b.Base.barsPlace.y+"L"+f+" "+(b.Base.barsPlace.y+b.Base.barsPlace.h-b.Base.displacementCoefficient)+"L"+(f-b.Base.displacementCoefficient)+" "+(b.Base.barsPlace.y+b.Base.barsPlace.h)+"L"+(f-b.Base.displacementCoefficient)+" "+(b.Base.barsPlace.y+b.Base.displacementCoefficient)+" z";e.setAttribute("d",h);e.setAttribute("fill","#"+c.zeroSeparatorColor);e.setAttribute("fill-opacity",c.zeroSeparatorAlpha);
e.setAttribute("stroke","#"+c.zeroSeparatorBorderColor);e.setAttribute("stroke-width",c.zeroSeparatorBorderWidth);b.NodeStore.root.appendChild(e);e=b.NodeStore.drawnDivLinesLabels;f=e.length;for(h=!1;f--;)if(0==e[f]){h=!0;break}if(!h&&1===c.showXAxisValues){var e=b.Base.getValuePosition(0),f=b.Base.barsPlace.y+b.Base.barsPlace.h+15,h=document.createElementNS(b.Render.svgNS,"text"),g=c.numberPrefix+0+c.numberSuffix;h.appendChild(document.createTextNode(g));b.NodeStore.root.appendChild(h);h.style.fontFamily=
c.outCnvBaseFont;h.style.fontSize=c.outCnvBaseFontSize+"px";h.setAttribute("fill","#"+c.outCnvBaseFontColor);c=b.NodeFactory.SVG.getBiggestBBox([g],{fontFamily:c.outCnvBaseFont,fontSize:c.outCnvBaseFontSize});a?(h.setAttribute("x",b.Base.basePosition.x-b.Base.categoriesLabelsRightMargin-c.w-b.Base.displacementCoefficient),h.setAttribute("y",e+c.h/2)):(h.setAttribute("y",f),h.setAttribute("x",e-c.w/2))}},addDivLine:function(a,b,c,e){"undefined"===typeof b&&(b=!0);"undefined"===typeof c&&(c=!1);var f=
Bar[m],h=f.params.xmlData.chart,g=f.Base.bottomLabelsmarginTop,j=f.Base.getValuePosition(a),g=f.Base.basePosition.y+f.Base.basePosition.h+g,k=j,l=f.Base.basePosition.y+f.Base.basePosition.h,p=f.Base.basePosition.y;c&&(k=f.Base.basePosition.x,j=f.Base.basePosition.x+f.Base.basePosition.w,p=l=f.Base.getValuePosition(a));b&&(b=document.createElementNS(f.Render.svgNS,"line"),b.setAttribute("x1",k),b.setAttribute("y1",l),b.setAttribute("x2",j),b.setAttribute("y2",p),b.setAttribute("stroke-width",1),b.setAttribute("stroke",
"#"+h.divLineColor),f.NodeStore.root.appendChild(b));1===h.showXAxisValues&&(b=document.createElementNS(f.Render.svgNS,"text"),a=h.numberPrefix+a.toFixed(h.decimals)+h.numberSuffix,b.appendChild(document.createTextNode(a)),f.NodeStore.root.appendChild(b),b.style.fontFamily=h.outCnvBaseFont,b.style.fontSize=h.outCnvBaseFontSize+"px",a=f.NodeFactory.SVG.getBiggestBBox([a],{fontFamily:h.outCnvBaseFont,fontSize:h.outCnvBaseFontSize}),b.setAttribute("fill","#"+h.outCnvBaseFontColor),c?(b.setAttribute("y",
l+a.h/3),b.setAttribute("x",k-a.w-f.Base.categoriesLabelsRightMargin-f.Base.displacementCoefficient)):(b.setAttribute("y",g),b.setAttribute("x",k-a.w/2)));f.Base.secondYAxisExist&&(b=document.createElementNS(f.Render.svgNS,"text"),a=h.numberPrefix+e.toFixed(h.decimals)+h.numberSuffix,b.appendChild(document.createTextNode(a)),f.NodeStore.root.appendChild(b),b.style.fontFamily=h.outCnvBaseFont,b.style.fontSize=h.outCnvBaseFontSize+"px",a=f.NodeFactory.SVG.getBiggestBBox([a],{fontFamily:h.outCnvBaseFont,
fontSize:h.outCnvBaseFontSize}),b.setAttribute("fill","#"+h.outCnvBaseFontColor),c?(b.setAttribute("y",l+a.h/3),b.setAttribute("x",j+f.Base.categoriesLabelsRightMargin-f.Base.displacementCoefficient+f.Base.categoriesLabelsRightMargin)):(b.setAttribute("y",l-a.h/3-f.Base.basePosition.h),b.setAttribute("x",j-a.w/2)))},drawDivLine:function(a,b,c,e,f,h){var g=Bar[m],j=document.createElementNS(g.Render.svgNS,"path"),k=a,l=a,p=g.Base.basePosition.y,n=g.Base.basePosition.y+g.Base.basePosition.h;h&&(p=g.Base.basePosition.y+
g.Base.displacementCoefficient,n=g.Base.basePosition.y+g.Base.basePosition.h+g.Base.displacementCoefficient);f&&(n=p=a,h?(k=g.Base.basePosition.x-g.Base.displacementCoefficient,l=g.Base.basePosition.x+g.Base.basePosition.w-g.Base.displacementCoefficient):(k=g.Base.basePosition.x,l=g.Base.basePosition.x+g.Base.basePosition.w));j.setAttribute("d","M"+k+" "+p+"L"+l+" "+n);j.setAttribute("stroke","#"+b);j.setAttribute("stroke-width",c);e&&j.setAttribute("stroke-dasharray","9, 5");g.NodeStore.root.appendChild(j)},
drawLineLabel:function(a,b,c,e){var f=Bar[m],h=f.params.xmlData.chart,g=a,j=f.Base.basePosition.y+f.Base.basePosition.h+f.Base.bottomLabelsmarginTop+f.Base.bottomLabelsMaxHeight,k=document.createElementNS(f.Render.svgNS,"text");e&&(j=a,g=f.Base.basePosition.x);k.appendChild(document.createTextNode(b));k.style.fontFamily=h.baseFont;k.style.fontSize=h.baseFontSize+"px";k.setAttribute("fill","#"+c);f.NodeStore.root.appendChild(k);a=f.NodeFactory.SVG.getBiggestBBox([b],{fontFamily:h.baseFont,fontSize:h.baseFontSize});
b=-a.w/2;e?(b=-(a.w+f.Base.categoriesLabelsRightMargin+f.Base.displacementCoefficient),k.setAttribute("y",j+a.h/4)):k.setAttribute("y",j);k.setAttribute("x",g+b)},drawSection:function(a,b,c,e,f,h){var g=Bar[m],j=document.createElementNS(g.Render.svgNS,"path"),k=a,l=b,p=g.Base.basePosition.y,n=g.Base.basePosition.y+g.Base.basePosition.h;f&&(p=a,n=b,h?(k=g.Base.basePosition.x-g.Base.displacementCoefficient,l=g.Base.basePosition.x+g.Base.basePosition.w-g.Base.displacementCoefficient):(k=g.Base.basePosition.x,
l=g.Base.basePosition.x+g.Base.basePosition.w));j.setAttribute("d","M"+k+" "+p+"L"+k+" "+n+"L"+l+" "+n+"L"+l+" "+p+"z");j.setAttribute("fill","#"+c);j.setAttribute("stroke-width",0);j.setAttribute("fill-opacity",(parseInt(e,10)/100).toFixed(2));g.NodeStore.root.appendChild(j)},addCategoryLabel:function(a){var b=Bar[m],c=b.params.xmlData.chart,e=document.createElementNS(b.Render.svgNS,"text"),f=!1;if(1===c.showCategoryLabels){"1"===c.isColumn&&(f=!0);e.appendChild(document.createTextNode(a.label));
e.setAttribute("x",a.x);e.setAttribute("y",a.y);e.style.fontFamily=c.outCnvBaseFont;e.style.fontSize=c.outCnvBaseFontSize+"px";e.setAttribute("fill","#"+c.outCnvBaseFontColor);var h=b.NodeFactory.SVG.getBiggestBBox([a.label],{fontFamily:c.outCnvBaseFont,fontSize:c.outCnvBaseFontSize});b.NodeStore.root.appendChild(e);f?"1"==c.rotateNames?(e.setAttribute("transform","rotate(-90 "+(a.x+h.w/4)+","+(a.y+h.w/4-b.Base.displacementCoefficient)+")"),e.setAttribute("x",a.x-h.w/2),e.setAttribute("y",a.y-h.h/
4)):(e.setAttribute("x",a.x-h.w/2),e.setAttribute("y",a.y+b.Base.bottomLabelsmarginTop/2)):(e.setAttribute("x",a.x-h.w-b.Base.displacementCoefficient),e.setAttribute("y",a.y+h.h/2))}},addBarLabel:function(a,b){var c=Bar[m],e=c.params.xmlData.chart,f=document.createElementNS(c.Render.svgNS,"text"),h=new c.NodeFactory.SVG.barHoverHandler(a.toolText=a.toolText?a.toolText:"",b),g=new c.NodeFactory.SVG.barOutHandler(b),j="",k=!1;"1"===e.isColumn&&(k=!0);if(""!==b.url||""!==b.jsFunction)f.style.cursor=
"pointer",c.addEvent(f,"click",function(){""!==b.jsFunction&&(c.ToolTip.hide(),eval(a.jsFunction));""!==b.url&&window.open(b.url,"_blank")});c.addEvent(f,"mouseover",h);c.addEvent(f,"mouseout",g);j=e.numberPrefix+a.value.toFixed(e.decimals)+e.numberSuffix;if(!1!==a.negativeErrorPossible||!1!==a.positiveErrorPossible)g=h=0,a.negativeErrorPossible&&(g=a.negativeErrorPossible.toFixed(e.decimals)),a.positiveErrorPossible&&(h=a.positiveErrorPossible.toFixed(e.decimals)),j+=" (+"+h+" / -"+g+")";f.appendChild(document.createTextNode(j));
f.style.fontFamily=e.baseFont;f.style.fontSize=e.baseFontSize+"px";a.syncLabelColor?f.setAttribute("fill",a.color):f.setAttribute("fill","#"+e.baseFontColor);j=c.NodeFactory.SVG.getBiggestBBox([j],{fontFamily:e.baseFont,fontSize:e.baseFontSize});c.NodeStore.root.appendChild(f);k?a.positionAtTop?(e=0<a.value?a.y-5:a.y+a.h+j.h-5,f.setAttribute("x",a.x+(a.w-c.Base.displacementCoefficient)/2-j.w/2),f.setAttribute("y",e)):a.rotateValue?(f.setAttribute("transform","rotate(-90, "+a.x+","+a.y+")"),f.setAttribute("x",
a.x-(a.h-c.Base.displacementCoefficient)/2-j.w/2-e.depth),f.setAttribute("y",a.y+(a.w-c.Base.displacementCoefficient)/2)):(f.setAttribute("x",a.x+(a.w-c.Base.displacementCoefficient)/2-j.w/2-e.depth),f.setAttribute("y",a.y+(a.h-c.Base.displacementCoefficient)/2)):(a.positionAtTop?k=0<a.value?a.x+a.w+e.depth:a.x-j.w-e.depth-5:(k=a.x+(a.w-c.Base.displacementCoefficient)/2-j.w/2,a.x>k&&(k=a.x),k+j.w>c.Base.basePosition.x+c.Base.basePosition.w&&(k=c.Base.basePosition.x+c.Base.basePosition.w-j.w-e.depth)),
f.setAttribute("x",k),f.setAttribute("y",a.y+(a.h-c.Base.displacementCoefficient)/2+c.Base.displacementCoefficient+j.h/4))},addLineLabel:function(a){var b=Bar[m],c=b.params.xmlData.chart,e=document.createElementNS(b.Render.svgNS,"text"),f=c.numberPrefix+a.value.toFixed(c.decimals)+c.numberSuffix;e.appendChild(document.createTextNode(f));e.style.fontFamily=c.baseFont;e.style.fontSize=c.baseFontSize+"px";a.toolText=a.toolText?a.toolText:"";if(""!==a.url||""!==a.jsFunction)e.style.cursor="pointer",b.addEvent(e,
"click",function(){""!==a.jsFunction&&(b.ToolTip.hide(),eval(a.jsFunction));""!==a.url&&window.open(a.url,"_blank")});f=b.NodeFactory.SVG.getBiggestBBox([f],{fontFamily:c.baseFont,fontSize:c.baseFontSize});if(a.rotateLabels){var h,g;switch(a.labelsAngle){case -45:h=a.x+f.w/4;g=a.y+f.w/4-b.Base.displacementCoefficient;e.setAttribute("x",a.x-f.w/2);e.setAttribute("y",a.y-f.h/2);break;case -90:a.y+f.w>b.Base.barsBackgroundPosition.h+b.Base.barsBackgroundPosition.y&&(a.y-=2*f.w);h=a.x+f.w;g=a.y+f.w/2-
b.Base.displacementCoefficient;e.setAttribute("x",a.x);e.setAttribute("y",a.y-f.w/2);break;default:h=a.x+f.w/4,g=a.y+f.w/4-b.Base.displacementCoefficient,e.setAttribute("x",a.x-f.w/2),e.setAttribute("y",a.y-f.h/2)}e.setAttribute("transform","rotate("+a.labelsAngle+" "+h+","+g+")")}else e.setAttribute("x",a.x-f.w/2),e.setAttribute("y",a.y-f.h/2);f=new b.NodeFactory.SVG.barHoverHandler(a.toolText,void 0,e,a.anchorRadius);h=new b.NodeFactory.SVG.barOutHandler(void 0,e,a.anchorRadius);b.NodeStore.root.appendChild(e);
b.addEvent(e,"mouseover",f);b.addEvent(e,"mouseout",h);a.syncLabelColor?e.setAttribute("fill","#"+a.color):e.setAttribute("fill","#"+c.baseFontColor)},addStylesToTextObject:function(a,b){a.style.fontFamily=b.font;a.style.fontSize=b.size+"px";"1"==b.bold&&(a.style.fontWeight="bold");a.setAttribute("fill","#"+b.color)},drawLegendBackground:function(){var a=Bar[m],b=a.params.xmlData.chart,c=a.Base.legendSize,e=document.createElementNS(a.Render.svgNS,"rect");a.NodeStore.root.appendChild(e);a.NodeFactory.SVG.initLegendShadow("bar-chart-"+
m+"-legend-shadow");e.setAttribute("x",c.x);e.setAttribute("y",c.y);e.setAttribute("width",c.w);e.setAttribute("height",c.h);e.setAttribute("fill","#"+b.legendBackgroundColor.replace("#",""));e.setAttribute("stroke","#"+b.legendBorderColor.replace("#",""));e.setAttribute("stroke-width",b.legendBorderWidth)},initLegendShadow:function(a){var b=Bar[m],c=document.createElementNS(b.Render.svgNS,"filter");c.setAttribute("id",a);c.setAttribute("x","-1");c.setAttribute("y","-1");c.setAttribute("width","250%");
c.setAttribute("height","250%");c.setAttribute("filterUnits","userSpaceOnUse");a=document.createElementNS(b.Render.svgNS,"feOffset");a.setAttribute("result","offOut");a.setAttribute("in","SourceGraphic");a.setAttribute("dx","2");a.setAttribute("dy","2");c.appendChild(a);a=document.createElementNS(b.Render.svgNS,"feColorMatrix");a.setAttribute("result","matrixOut");a.setAttribute("in","offOut");a.setAttribute("type","matrix");a.setAttribute("values","0.1 0 0 0 0 0 0.1 0 0 0 0 0 0.1 0 0 0 0 0 0.7 0");
c.appendChild(a);a=document.createElementNS(b.Render.svgNS,"feGaussianBlur");a.setAttribute("result","blurOut");a.setAttribute("in","matrixOut");a.setAttribute("stdDeviation","2");c.appendChild(a);a=document.createElementNS(b.Render.svgNS,"feBlend");a.setAttribute("in","SourceGraphic");a.setAttribute("in2","blurOut");a.setAttribute("mode","normal");c.appendChild(a);b.NodeStore.root.appendChild(c)},getBiggestBBox:function(a,b){var c=Bar[m],e=a.length,f=document.createElement("div"),h=0,g=0;f.style.top=
"-100px";f.style.left="-100px";f.style.position="absolute";f.style.fontFamily=b.fontFamily;f.style.fontSize=b.fontSize+"px";for(c.chartContainer.appendChild(f);e--;){c.deleteChilds(f);f.appendChild(document.createTextNode(a[e]));var j=c.getSize(f);h<j.width&&(h=j.width);g<j.height&&(g=j.height)}c.chartContainer.removeChild(f);return{w:h,h:g}}},VML:{scaleCoefficient:10,getCoefValue:function(a){return parseInt(a*Bar[m].NodeFactory.VML.scaleCoefficient,10)},createRoot:function(){var a=Bar[m];try{document.createStyleSheet().addRule(".rvml",
"behavior:url(#default#VML) ")}catch(b){}try{document.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),a.NodeFactory.VML.createNode=function(a,b){var c=document.createElement("<rvml:"+a+' class="rvml" >');"undefined"===typeof b&&(b=!1);if(b){var e=document.createElement('<rvml:stroke class="rvml" >');e.setAttribute("opacity","0%");c.appendChild(e)}return c}}catch(c){a.NodeFactory.VML.createNode=function(a,b){var c=document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml" >');
"undefined"===typeof b&&(b=!1);if(b){var e=document.createElement('<rvml:stroke xmlns="urn:schemas-microsoft.com:vml" class="rvml" >');e.setAttribute("opacity","0%");c.appendChild(e)}return c}}var e=document.createElement("div");e.style.width=a.width+"px";e.style.height=a.height+"px";a.NodeStore.documentFragmentRef=document.createDocumentFragment();a.NodeStore.documentFragmentRef.appendChild(e);a.NodeStore.root=e},drawLogo:{init:function(){var a=Bar[m],b=a.NodeStore.root,c=a.width-130,e=a.height-
50,f=a.Base.displacementCoefficient,h=""+parseInt(1073741824*Math.random(),10);a.NodeFactory.VML.drawLogo.createGradient(b,h,{cx:c+f,cy:e+f,radius:30});a.NodeFactory.VML.drawLogo.drawCirclePart({angleStart:70,angleEnd:340,color:"#434343",cx:c+f,cy:e+f,radius:20,container:b});a.NodeFactory.VML.drawLogo.drawCirclePart({angleStart:-20,angleEnd:70,color:"#F26734",cx:c+f+2,cy:e+f+1,radius:20,container:b});a.NodeFactory.VML.drawLogo.createText(b,c+f+9,e+f+13)},logoHoverHandler:function(a){var b=Bar[m];
b.addEvent(a,"mouseover",function(a){a.toElement.style.cursor="pointer"});b.addEvent(a,"click",function(){window.location.assign("http://www.hdcharts.com/")});b.addEvent(a,"mouseout",function(a){a.toElement.style.cursor="default"})},drawPoly:function(a){var b=Bar[m],c=b.NodeFactory.VML.createNode("shape");c.setAttribute("coordsize",b.NodeFactory.VML.getCoefValue(b.width)+" "+b.NodeFactory.VML.getCoefValue(b.height));c.setAttribute("coordorigin","0 0");c.setAttribute("fillcolor",a.color);c.style.position=
"absolute";c.style.left="0 px";c.style.top="0 px";c.style.width=b.width+"px";c.style.height=b.height+"px";var e,f=a.points,h=f.length-1,g=b.NodeFactory.VML.scaleCoefficient;for(e="M"+(parseInt(f[h].x*g,10)+" "+parseInt(f[h].y*g,10));h--;)e=e+"L"+parseInt(f[h].x*g,10)+" "+parseInt(f[h].y*g,10);e+=" z";f=b.NodeFactory.VML.createNode("path");f.setAttribute("v",e);c.appendChild(f);e=b.NodeFactory.VML.createNode("stroke");e.setAttribute("opacity",a.opacity);e.setAttribute("color",a.color);c.appendChild(e);
a.container.appendChild(c);b.NodeFactory.VML.drawLogo.logoHoverHandler(c)},drawCirclePart:function(a){var b=Bar[m],c=[],e=a.cx,f=a.cy,h=a.radius;c.push({x:e,y:f});for(var g=a.angleStart;g<=a.angleEnd;g++){var j=g*(Math.PI/180),k=0,l=0,k=e+h*Math.cos(j),l=f+h*Math.sin(j);c.push({x:k,y:l})}b.NodeFactory.VML.drawLogo.drawPoly({points:c,color:a.color,container:a.container})},createGradient:function(){},createText:function(a,b,c){var e=Bar[m],f="",f="m 0,0 l 1,0 e",h=e.NodeFactory.VML.createNode("shape",
!0);h.style.position="absolute";h.style.top=c-3+"px";h.style.left=b+15+"px";h.style.zIndex=0;h.style.width="1px";h.style.height="1px";h.setAttribute("filled","t");h.setAttribute("fillcolor","#434343");h.setAttribute("stroked","f");h.setAttribute("path",f);var g=e.NodeFactory.VML.createNode("textpath");g.style.fontFamily="Tahoma";g.style.fontSize="17px";g.style.fontWeight="bold";g.setAttribute("fill","#434343");g.setAttribute("on","t");g.setAttribute("string","HD");h.appendChild(g);g=e.NodeFactory.VML.createNode("path");
g.setAttribute("textpathok","t");h.appendChild(g);a.appendChild(h);e.NodeFactory.VML.drawLogo.logoHoverHandler(h);h=e.NodeFactory.VML.createNode("shape",!0);h.style.position="absolute";h.style.top=c-3+"px";h.style.left=b+62+"px";h.style.zIndex=0;h.style.width="1px";h.style.height="1px";h.setAttribute("filled","t");h.setAttribute("fillcolor","#434343");h.setAttribute("stroked","f");h.setAttribute("path",f);g=e.NodeFactory.VML.createNode("textpath");g.style.fontFamily="Tahoma";g.style.fontSize="17px";
g.style.fontWeight="bold";g.setAttribute("filled","t");g.setAttribute("fillcolor","#F15A23");g.setAttribute("on","t");g.setAttribute("string","CHARTS");h.appendChild(g);g.setAttribute("x",b+30);g.setAttribute("y",c);g=e.NodeFactory.VML.createNode("path");g.setAttribute("textpathok","t");h.appendChild(g);a.appendChild(h);e.NodeFactory.VML.drawLogo.logoHoverHandler(h)}},getPathStrings:function(a){var b=Bar[m],c=b.NodeFactory.VML.getCoefValue(b.Base.displacementCoefficient),e=b.NodeFactory.VML.getCoefValue(a.x)-
c,f=b.NodeFactory.VML.getCoefValue(a.y)+c,h=b.NodeFactory.VML.getCoefValue(a.w);a=b.NodeFactory.VML.getCoefValue(a.h)-c;return{pathMain:"M "+e+","+(f-0)+" L "+(e+h+0)+","+(f-0)+"L"+(h+e+0)+" "+(f+a+0)+"L"+e+" "+(f+a+0)+" x e ",pathTop:"M "+e+","+f+" L "+(e+c)+","+(f-c)+"L"+(e+c+h)+" "+(f-c)+"L"+(e+h)+"  "+f+" x e ",pathRight:"M "+(e+h)+","+f+" L "+(e+h+c)+","+(f-c)+"L"+(e+c+h)+" "+(f+a-c)+"L"+(e+h)+"  "+(f+a)+" x e "}},barHoverHandler:function(a,b,c,e){return function(){if("undefined"!==typeof b){var f=
Bar[m],h=f.params.xmlData.chart;if("default"===h.barsHoverColor){var g=f.Base.getHoverColor(b.color),j=b.front.lastChild;b.front.removeChild(j);j=f.NodeFactory.VML.createNode("fill");j.setAttribute("color","#"+g);b.front.appendChild(j);0<parseInt(h.depth,10)&&(j=b.right.lastChild,b.right.removeChild(j),j=f.NodeFactory.VML.createNode("fill"),j.setAttribute("color","#"+g),b.right.appendChild(j),j=b.top.lastChild,b.top.removeChild(j),j=f.NodeFactory.VML.createNode("fill"),j.setAttribute("color","#"+
g),b.top.appendChild(j))}else"none"!==h.barsHoverColor&&(j=b.front.lastChild,b.front.removeChild(j),j=b.front.lastChild,b.front.removeChild(j),g=f.NodeFactory.VML.createNode("stroke"),g.setAttribute("opacity","1"),g.setAttribute("color","#"+h.barsHoverColor),b.front.appendChild(g),j=f.NodeFactory.VML.createNode("fill"),j.setAttribute("color","#"+h.barsHoverColor),b.front.appendChild(j),0<parseInt(h.depth,10)&&(j=b.right.lastChild,b.right.removeChild(j),j=b.right.lastChild,b.right.removeChild(j),g=
f.NodeFactory.VML.createNode("stroke"),g.setAttribute("opacity","1"),g.setAttribute("color","#"+h.barsHoverColor),b.right.appendChild(g),j=f.NodeFactory.VML.createNode("fill"),j.setAttribute("color","#"+h.barsHoverColor),b.right.appendChild(j),j=b.top.lastChild,b.top.removeChild(j),j=b.top.lastChild,b.top.removeChild(j),g=f.NodeFactory.VML.createNode("stroke"),g.setAttribute("opacity","1"),g.setAttribute("color","#"+h.barsHoverColor),b.top.appendChild(g),j=f.NodeFactory.VML.createNode("fill"),j.setAttribute("color",
"#"+h.barsHoverColor),b.top.appendChild(j)))}""!==a&&Bar[m].ToolTip.show(a,b);"undefined"!==typeof c&&(e.radius+=3,c.style.position="absolute",c.style.left=parseInt(e.x-e.radius,10)+"px",c.style.top=parseInt(e.y-e.radius,10)+"px",c.style.width=2*e.radius+"px",c.style.height=2*e.radius+"px")}},barOutHandler:function(a,b,c){return function(){var e=Bar[m],f=e.params.xmlData.chart;if("undefined"!==typeof a&&"none"!==f.barsHoverColor){var h=a.front.lastChild;a.front.removeChild(h);h=a.front.lastChild;
a.front.removeChild(h);h=e.NodeFactory.VML.createNode("stroke");h.setAttribute("opacity","1");h.setAttribute("color","#"+a.color);a.front.appendChild(h);h=e.NodeFactory.VML.createNode("fill");h.setAttribute("color","#"+a.color);a.front.appendChild(h);0<parseInt(f.depth,10)&&(h=a.right.lastChild,a.right.removeChild(h),h=a.right.lastChild,a.right.removeChild(h),h=e.NodeFactory.VML.createNode("stroke"),h.setAttribute("opacity","1"),h.setAttribute("color","#"+a.color),a.right.appendChild(h),h=e.NodeFactory.VML.createNode("fill"),
h.setAttribute("color","#"+a.color),a.right.appendChild(h),h=a.top.lastChild,a.top.removeChild(h),h=a.top.lastChild,a.top.removeChild(h),h=e.NodeFactory.VML.createNode("stroke"),h.setAttribute("opacity","1"),h.setAttribute("color","#"+a.color),a.top.appendChild(h),h=e.NodeFactory.VML.createNode("fill"),h.setAttribute("color","#"+a.color),a.top.appendChild(h))}Bar[m].ToolTip.hide();"undefined"!==typeof b&&(c.radius-=3,b.style.position="absolute",b.style.left=parseInt(c.x-c.radius,10)+"px",b.style.top=
parseInt(c.y-c.radius,10)+"px",b.style.width=2*c.radius+"px",b.style.height=2*c.radius+"px")}},drawErrorLine:function(a){var b=Bar[m],c=a.points;a="m"+b.NodeFactory.VML.getCoefValue(c[0].x)+","+b.NodeFactory.VML.getCoefValue(c[0].y);for(var e=1,f=c.length;e<f;e++)a=a+" L "+b.NodeFactory.VML.getCoefValue(c[e].x)+","+b.NodeFactory.VML.getCoefValue(c[e].y);a+=" x e";c=b.NodeFactory.VML.createNode("shape");c.setAttribute("fillcolor","#797979");c.setAttribute("coordsize",b.NodeFactory.VML.getCoefValue(b.width)+
" "+b.NodeFactory.VML.getCoefValue(b.height));c.setAttribute("coordorigin","0 0");c.style.position="absolute";c.style.left="0 px";c.style.top="0 px";c.style.width=b.width+"px";c.style.height=b.height+"px";c.setAttribute("d",a);e=b.NodeFactory.VML.createNode("stroke");e.setAttribute("opacity","1");e.setAttribute("weight","1");e.setAttribute("color","#ececec");c.appendChild(e);e=b.NodeFactory.VML.createNode("path");e.setAttribute("v",a);c.appendChild(e);b.NodeStore.root.appendChild(c)},addLabel:function(a,
b,c,e,f,h){var g=Bar[m],j="",k=g.NodeFactory.VML.getBiggestBBox([a],{fontFamily:f.font,fontSize:f.size});if(e)if(h)switch(h){case -45:j="m-1,0 l0,-1 e";c+=k.h/2;b-=k.w/4;break;case -90:j="m0,0 l0,-1 e";c=c+2*k.w+5>g.Base.barsBackgroundPosition.h+g.Base.barsBackgroundPosition.y?c-k.w/2:c+k.w+7;break;case 0:j="m0,0 l1,0 e";break;default:j="m0,0 l1,0 e"}else j="m0,0 l0,-1 e";else j="m0,0 l1,0 e";e=g.NodeFactory.VML.createNode("shape",!0);e.style.position="absolute";e.style.top=c+"px";e.style.left=b+
"px";e.style.zIndex=0;e.style.width="1px";e.style.height="1px";e.setAttribute("filled","t");e.setAttribute("fillcolor","#"+f.color);e.setAttribute("stroked","f");e.setAttribute("path",j);h=g.NodeFactory.VML.createNode("textpath",!0);h.style.fontFamily=f.font;h.style.fontSize=f.size+"px";h.setAttribute("on","t");h.setAttribute("string",a);e.appendChild(h);a=g.NodeFactory.VML.createNode("path",!0);a.setAttribute("textpathok","t");e.appendChild(a);g.NodeStore.root.appendChild(e);return e},drawCategoriesAxisName:function(){var a=
Bar[m],b=a.params.xmlData.chart,c=b.categoriesAxisName,e=!0,f=a.ParamsChecker.defineUndefinedFontStyles(a.ParamsChecker.getDefinedFontStyles("categoriesAxisName")),h=a.NodeFactory.VML.getBiggestBBox([c],{fontFamily:f.font,fontSize:f.size});if("1"===b.isColumn){if(h.w>parseInt(a.width/2,10))var g=parseInt(h.w/c.length,10),c=c.slice(0,parseInt(a.width/(3*g),10))+"..",h=a.NodeFactory.VML.getBiggestBBox([c],{fontFamily:f.font,fontSize:f.size});e=!1;g=parseInt(a.width/2,10);b=parseInt(a.height-(a.Base.legendSize.h+
parseInt(b.chartBottomMargin,10)),10)-h.h/2}else h.w>parseInt(a.height/2,10)&&(g=parseInt(h.w/c.length,10),c=c.slice(0,parseInt(a.height/(3*g),10))+"..",h=a.NodeFactory.VML.getBiggestBBox([c],{fontFamily:f.font,fontSize:f.size})),g=parseInt(b.chartLeftMargin,10)+h.h,b=parseInt(a.height/2,10);a.ChartLabels.c=a.NodeFactory.VML.addLabel(c,g,b,e,f)},drawPrimaryAxisName:function(){var a=Bar[m],b=a.params.xmlData.chart,c=b.PYAxisName,e=a.ParamsChecker.defineUndefinedFontStyles(a.ParamsChecker.getDefinedFontStyles("PYAxisName")),
f=parseInt(b.chartLeftMargin,10),h=parseInt(a.Base.barsPlace.h/2,10),g=a.NodeFactory.VML.getBiggestBBox([c],{fontFamily:e.font,fontSize:e.size}),j=!1;"1"===b.isColumn?(g.w>parseInt(a.height/3,10)&&(g=parseInt(g.w/c.length,10),c=c.slice(0,parseInt(a.height/(3*g),10))+"..",g=a.NodeFactory.VML.getBiggestBBox([c],{fontFamily:e.font,fontSize:e.size})),pathStr="m0,0 l0,-1 e",f+=g.h/2,j=!0):(g.w>parseInt(a.width/3,10)&&(g=parseInt(g.w/c.length,10),c=c.slice(0,parseInt(a.width/(3*g),10))+"..",g=a.NodeFactory.VML.getBiggestBBox([c],
{fontFamily:e.font,fontSize:e.size})),pathStr="m0,0 l1,0 e",f=parseInt(a.width,10)/2,h=a.Base.barsPlace.y+a.Base.barsPlace.h-g.h/4,1===b.showXAxisValues&&(h+=a.Base.bottomLabelsHeight),h+=g.h);0<c.length&&(a.ChartLabels.p=a.NodeFactory.VML.addLabel(c,f,h,j,e))},drawSecondaryAxisName:function(){var a=Bar[m],b=a.params.xmlData.chart,c=b.SYAxisName,e=a.ParamsChecker.defineUndefinedFontStyles(a.ParamsChecker.getDefinedFontStyles("SYAxisName")),f=0,h=0,h=a.NodeFactory.VML.getBiggestBBox([c],{fontFamily:e.font,
fontSize:e.size}),g=!1;"1"===b.isColumn?(h.w>parseInt(a.height/3,10)&&(f=parseInt(h.w/c.length,10),c=c.slice(0,parseInt(a.height/(3*f),10))+"..",h=a.NodeFactory.VML.getBiggestBBox([c],{fontFamily:e.font,fontSize:e.size})),pathStr="m0,0 l0,-1 e",g=!0,f=a.width-parseInt(b.chartRightMargin,10)-h.h/2,h=parseInt(a.Base.barsPlace.h/2,10)):(h.w>parseInt(a.width/3,10)&&(f=parseInt(h.w/c.length,10),c=c.slice(0,parseInt(a.width/(3*f),10))+"..",h=a.NodeFactory.VML.getBiggestBBox([c],{fontFamily:e.font,fontSize:e.size})),
pathStr="m0,0 l1,0 e",f=a.width/2,h=a.Base.titleHeight+parseInt(b.chartTopMargin,10)+h.h/2);a.ChartLabels.s=a.NodeFactory.VML.addLabel(c,f,h,g,e)},drawLine:function(a){var b=Bar[m],c=b.NodeFactory.VML.createNode("line",!0);c.setAttribute("from",parseInt(a.x1,10)+","+parseInt(a.y1,10));c.setAttribute("to",parseInt(a.x2,10)+","+parseInt(a.y2,10));c.setAttribute("stroke","true");c.setAttribute("strokecolor","#"+a.color);c.setAttribute("strokeweight",parseInt(a.lineWidth,10));c.childNodes[0].setAttribute("opacity",
parseInt(a.lineAlpha,10)+"%");c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.width=b.width+"px";c.style.height=b.height+"px";if("0"!==a.showShadow){var e=b.Base.shadowOffset,f=b.NodeFactory.VML.createNode("line",!0);f.setAttribute("from",parseInt(a.x1+e,10)+","+parseInt(a.y1+e,10));f.setAttribute("to",parseInt(a.x2+e,10)+","+parseInt(a.y2+e,10));f.setAttribute("stroke","true");f.setAttribute("strokecolor","#999999");f.childNodes[0].setAttribute("opacity",parseInt(b.Base.shadowOpacity,
10)+"%");f.style.position="absolute";f.style.top="0px";f.style.left="0px";f.style.width=b.width+"px";f.style.height=b.height+"px";a.lineWidth&&f.setAttribute("strokeweight",parseInt(parseInt(a.lineWidth,10)*b.Base.shadowWidthCoef,10));b.NodeStore.root.appendChild(f)}b.NodeStore.root.appendChild(c)},drawAnchor:function(a){var b=Bar[m],c=b.NodeFactory.VML.createNode("oval",!1),e=parseInt(a.anchorRadius,10),f={radius:e,x:a.x,y:a.y};c.style.position="absolute";c.style.left=parseInt(a.x-e,10)+"px";c.style.top=
parseInt(a.y-e,10)+"px";c.style.width=2*e+"px";c.style.height=2*e+"px";e=b.NodeFactory.VML.createNode("fill");e.setAttribute("color","#"+a.anchorFillColor);e.setAttribute("opacity",parseInt(a.anchorAlpha,10)+"%");c.appendChild(e);e=b.NodeFactory.VML.createNode("stroke");e.setAttribute("color","#"+a.anchorBorderColor);e.setAttribute("weight",a.anchorBorderWidth);e.setAttribute("opacity",parseInt(a.anchorAlpha,10)+"%");c.appendChild(e);e=new b.NodeFactory.VML.barHoverHandler(a.toolText,void 0,c,f);
f=new b.NodeFactory.VML.barOutHandler(void 0,c,f);b.NodeStore.root.appendChild(c);b.addEvent(c,"mouseover",e);b.addEvent(c,"mouseout",f);if(""!==a.url||""!==a.jsFunction)c.style.cursor="pointer",b.addEvent(c,"click",function(){""!==a.jsFunction&&(b.ToolTip.hide(),eval(a.jsFunction));""!==a.url&&window.open(a.url,"_blank")})},drawDivLine:function(a,b,c,e,f,h){var g=Bar[m],j=g.NodeFactory.VML.createNode("shape"),k=a,l=a,p=g.Base.basePosition.y,n=g.Base.basePosition.y+g.Base.basePosition.h;h&&(p=g.Base.basePosition.y+
g.Base.displacementCoefficient,n=g.Base.basePosition.y+g.Base.basePosition.h+g.Base.displacementCoefficient);f&&(n=p=a,h?(k=g.Base.basePosition.x-g.Base.displacementCoefficient,l=g.Base.basePosition.x+g.Base.basePosition.w-g.Base.displacementCoefficient):(k=g.Base.basePosition.x,l=g.Base.basePosition.x+g.Base.basePosition.w));j.setAttribute("strokecolor","#"+b);j.setAttribute("strokeweight",c);j.setAttribute("coordorigin","0 0");j.setAttribute("coordsize",g.width+" "+g.height);j.setAttribute("path",
"m "+parseInt(k,10)+","+parseInt(p,10)+" l "+parseInt(l,10)+","+parseInt(n,10));j.style.position="absolute";j.style.top="0px";j.style.left="0px";j.style.width=g.width+"px";j.style.height=g.height+"px";e&&(a=g.NodeFactory.VML.createNode("stroke"),a.setAttribute("dashstyle","dash"),j.appendChild(a));g.NodeStore.root.appendChild(j)},drawLineLabel:function(a,b,c,e){var f=Bar[m],h=f.params.xmlData.chart,g=a,j=f.Base.basePosition.y+f.Base.basePosition.h+f.Base.bottomLabelsmarginTop+f.Base.bottomLabelsMaxHeight,
k=f.NodeFactory.VML.createNode("textbox");e&&(j=a,g=f.Base.basePosition.x);k.style.position="absolute";k.style.left=g+"px";k.style.top=j+"px";k.style.fontFamily=h.baseFont;k.style.fontSize=h.baseFontSize+"px";k.style.color="#"+c;k.appendChild(document.createTextNode(b));f.NodeStore.root.appendChild(k);a=f.NodeFactory.VML.getBiggestBBox([b],{fontFamily:h.baseFont,fontSize:h.baseFontSize});b=-a.w/2;e?(b=-(a.w+f.Base.categoriesLabelsRightMargin+f.Base.displacementCoefficient),k.style.top=j-a.h/2+"px"):
k.style.top=j-a.h+"px";k.style.left=g+b+"px"},drawSection:function(a,b,c,e,f,h){var g=Bar[m],j=g.NodeFactory.VML.createNode("rect",!0),k=a,l=b,p=g.Base.basePosition.y,n=g.Base.basePosition.y+g.Base.basePosition.h;f&&(p=a,n=b,h?(k=g.Base.basePosition.x-g.Base.displacementCoefficient,l=g.Base.basePosition.x+g.Base.basePosition.w-g.Base.displacementCoefficient):(k=g.Base.basePosition.x,l=g.Base.basePosition.x+g.Base.basePosition.w));a=p>n?p-n:n-p;l=k>l?k-l:l-k;j.style.top=parseInt(p<n?p:n,10)+"px";j.style.left=
parseInt(k,10)+"px";j.style.width=parseInt(l,10)+"px";j.style.height=parseInt(a,10)+"px";j.style.position="absolute";k=g.NodeFactory.VML.createNode("fill");k.setAttribute("color","#"+c);k.setAttribute("opacity",parseInt(e,10)+"%");j.appendChild(k);g.NodeStore.root.appendChild(j)},drawBar:function(a){var b=Bar[m],c=b.params.xmlData.chart,e=b.NodeFactory.VML.getPathStrings(a),f=b.NodeFactory.VML.createGradients(a.color),h={front:null,color:a.color,top:null,right:null,url:""!==a.url?a.url:"",params:""!==
a.params?a.params:""},g=b.NodeFactory.VML.createNode("shape");g.setAttribute("coordsize",b.NodeFactory.VML.getCoefValue(b.width)+" "+b.NodeFactory.VML.getCoefValue(b.height));g.setAttribute("coordorigin","0 0");g.style.position="absolute";g.style.left="0 px";g.style.top="0 px";g.style.width=b.width+"px";g.style.height=b.height+"px";var j=b.NodeFactory.VML.createNode("path");j.setAttribute("v",e.pathMain);g.appendChild(j);h.front=g;j=b.NodeFactory.VML.createNode("stroke");j.setAttribute("opacity",
"1");j.setAttribute("color",a.color);g.appendChild(j);j=b.NodeFactory.VML.createNode("fill");j.setAttribute("color",a.color);g.appendChild(j);b.NodeStore.root.appendChild(g);0!==c.depth&&(g=b.NodeFactory.VML.createNode("shape"),g.setAttribute("coordsize",b.NodeFactory.VML.getCoefValue(b.width)+" "+b.NodeFactory.VML.getCoefValue(b.height)),g.setAttribute("coordorigin","0 0"),g.style.position="absolute",g.style.left="0 px",g.style.top="0 px",g.style.width=b.width+"px",g.style.height=b.height+"px",j=
b.NodeFactory.VML.createNode("path"),j.setAttribute("v",e.pathTop),g.appendChild(j),j=b.NodeFactory.VML.createNode("stroke"),j.setAttribute("opacity","1"),j.setAttribute("color",a.color),g.appendChild(j),j=b.NodeFactory.VML.createNode("fill"),j.setAttribute("color",a.color),g.appendChild(j),h.top=g,b.NodeStore.root.appendChild(g),g=b.NodeFactory.VML.createNode("shape"),g.setAttribute("coordsize",b.NodeFactory.VML.getCoefValue(b.width)+" "+b.NodeFactory.VML.getCoefValue(b.height)),g.setAttribute("coordorigin",
"0 0"),g.style.position="absolute",g.style.left="0 px",g.style.top="0 px",g.style.width=b.width+"px",g.style.height=b.height+"px",j=b.NodeFactory.VML.createNode("path"),j.setAttribute("v",e.pathRight),g.appendChild(j),j=b.NodeFactory.VML.createNode("stroke"),j.setAttribute("opacity","1"),j.setAttribute("color",a.color),g.appendChild(j),j=b.NodeFactory.VML.createNode("fill"),j.setAttribute("color",a.color),g.appendChild(j),h.right=g,b.NodeStore.root.appendChild(g));g=b.NodeFactory.VML.createNode("shape");
g.setAttribute("coordsize",b.NodeFactory.VML.getCoefValue(b.width)+" "+b.NodeFactory.VML.getCoefValue(b.height));g.setAttribute("coordorigin","0 0");g.style.position="absolute";g.style.left="0 px";g.style.top="0 px";g.style.width=b.width+"px";g.style.height=b.height+"px";j=b.NodeFactory.VML.createNode("stroke");j.setAttribute("opacity","0");g.appendChild(j);j=b.NodeFactory.VML.createNode("path");j.setAttribute("v",e.pathMain);g.appendChild(f.gradMain);g.appendChild(j);b.NodeStore.root.appendChild(g);
if(0!==c.depth){var k=b.NodeFactory.VML.createNode("shape");k.setAttribute("coordsize",b.NodeFactory.VML.getCoefValue(b.width)+" "+b.NodeFactory.VML.getCoefValue(b.height));k.setAttribute("coordorigin","0 0");k.style.position="absolute";k.style.left="0 px";k.style.top="0 px";k.style.width=b.width+"px";k.style.height=b.height+"px";j=b.NodeFactory.VML.createNode("stroke");j.setAttribute("opacity","0");k.appendChild(j);j=b.NodeFactory.VML.createNode("path");j.setAttribute("v",e.pathTop);k.appendChild(f.gradTop);
k.appendChild(j);b.NodeStore.root.appendChild(k);var l=b.NodeFactory.VML.createNode("shape");l.setAttribute("coordsize",b.NodeFactory.VML.getCoefValue(b.width)+" "+b.NodeFactory.VML.getCoefValue(b.height));l.setAttribute("coordorigin","0 0");l.setAttribute("opacity","0");l.style.position="absolute";l.style.left="0 px";l.style.top="0 px";l.style.width=b.width+"px";l.style.height=b.height+"px";j=b.NodeFactory.VML.createNode("stroke");j.setAttribute("opacity","0");l.appendChild(j);j=b.NodeFactory.VML.createNode("path");
j.setAttribute("v",e.pathRight);l.appendChild(f.gradRight);l.appendChild(j);b.NodeStore.root.appendChild(l)}e="";a.toolText&&(e=a.toolText);e=new b.NodeFactory.VML.barHoverHandler(e,h);f=new b.NodeFactory.VML.barOutHandler(h);if(""!==a.url||""!==a.jsFunction)g.style.cursor="pointer",b.addEvent(g,"click",function(){""!==a.jsFunction&&(b.ToolTip.hide(),eval(a.jsFunction));""!==a.url&&window.open(a.url,"_blank")});b.addEvent(g,"mouseover",e);b.addEvent(g,"mouseout",f);0!==c.depth&&(b.addEvent(l,"mouseover",
e),b.addEvent(l,"mouseout",f),b.addEvent(k,"mouseover",e),b.addEvent(k,"mouseout",f));return h},createGradients:function(){var a=Bar[m],b=a.params.xmlData.chart,c=document.createElement('<fill xmlns="urn:schemas-microsoft-com:office:office" class="rvml" >');c.setAttribute("color","#666666");c.setAttribute("color2","#000000");c.setAttribute("opacity","0.5");c.setAttribute("o:opacity2","0.5");c.style.position="absolute";c.setAttribute("type","gradient");c.setAttribute("method","none");c.setAttribute("angle",
"90");var e=document.createElement('<fill xmlns="urn:schemas-microsoft-com:office:office" class="rvml" >');e.setAttribute("color","#666666");e.setAttribute("color2","#333333");e.setAttribute("opacity","0.5");e.setAttribute("o:opacity2","0.5");e.style.position="absolute";e.setAttribute("type","gradient");e.setAttribute("method","none");e.setAttribute("angle","180");var f=document.createElement('<fill xmlns="urn:schemas-microsoft-com:office:office" class="rvml" >');f.setAttribute("color","#ffffff");
f.setAttribute("color2","#000000");f.setAttribute("opacity",a.Base.barsGradientOpacity);f.setAttribute("o:opacity2",a.Base.barsGradientOpacity);f.style.position="absolute";f.setAttribute("type","gradient");f.setAttribute("method","none");f.setAttribute("angle",(parseInt(b.barsGradientAngle,10)+180)%360);return{gradTop:c,gradRight:e,gradMain:f}},createBackground:function(){var a=Bar[m],b=a.params.xmlData.chart,c=a.NodeFactory.VML.createNode("rect");c.style.top="-1px";c.style.left="-1px";c.style.width=
a.width+1+"px";c.style.height=a.height+1+"px";c.style.border="0px";c.style.position="absolute";c.style.filter="alpha(opacity="+b.bgAlpha+")";var e=b.bgColor.split(",");if(1==e.length)c.setAttribute("fillcolor","#"+b.bgColor);else{var f=a.NodeFactory.VML.createNode("fill");f.setAttribute("Type","Gradient");f.setAttribute("Angle",parseInt(b.bgAngle,10)%360);f.setAttribute("Color","#"+e[0]);f.setAttribute("Color2","#"+e[1]);f.setAttribute("Focus","0%");f.setAttribute("method","none");c.appendChild(f)}b=
a.NodeFactory.VML.createNode("stroke");b.setAttribute("color","none");c.appendChild(b);a.NodeStore.root.appendChild(c)},createBase:function(){var a=Bar[m],b=a.NodeFactory.VML.createNode("rect"),c=a.params.xmlData.chart;c.depthColorLeft.replace("#","");c.depthColorRight.replace("#","");b.style.position="absolute";b.style.left=a.Base.basePosition.x+" px";b.style.top=a.Base.basePosition.y+" px";b.style.width=a.Base.basePosition.w+" px";b.style.height=a.Base.basePosition.h+" px";b.setAttribute("strokecolor",
"#"+c.canvasBorderColor);b.setAttribute("strokeweight",c.canvasBorderThickness);b.style.filter="alpha(opacity="+c.canvasBgAlpha+")";var e=c.canvasBgColor.split(",");if(1==e.length)b.setAttribute("fillcolor","#"+c.canvasBgColor);else{var f=a.NodeFactory.VML.createNode("fill");f.setAttribute("Type","Gradient");f.setAttribute("Angle",parseInt(c.canvasBgAngle,10)%360);f.setAttribute("Color","#"+e[0]);f.setAttribute("Color2","#"+e[1]);f.setAttribute("Focus","0%");f.setAttribute("method","none");b.appendChild(f)}f=
a.NodeFactory.VML.createNode("stroke");f.setAttribute("opacity","0.7");b.appendChild(f);a.NodeStore.root.appendChild(b);if(1===parseInt(c.showDepthLeft,10)){var h=c.depthColorLeft.split(","),g=a.NodeFactory.VML.createNode("shape");1==h.length?g.setAttribute("fillcolor","#"+c.depthColorLeft.replace("#","")):(f=a.NodeFactory.VML.createNode("fill"),f.setAttribute("Type","Gradient"),f.setAttribute("Angle",180),f.setAttribute("Color","#"+h[0].replace("#","")),f.setAttribute("Color2","#"+h[1].replace("#",
"")),f.setAttribute("Focus","0%"),f.setAttribute("method","none"),g.appendChild(f));g.style.position="absolute";g.style.width=a.width+" px";g.style.height=a.height+" px";g.style.top="0 px";g.style.left="0 px";g.setAttribute("coordorigin","0 0");g.setAttribute("coordsize",a.width*a.NodeFactory.VML.scaleCoefficient+" "+a.height*a.NodeFactory.VML.scaleCoefficient);f=a.NodeFactory.VML.createNode("stroke");f.setAttribute("opacity","0");g.appendChild(f);var j=a.NodeFactory.VML.createNode("path"),f=a.NodeFactory.VML.getCoefValue(a.Base.basePosition.x),
b=a.NodeFactory.VML.getCoefValue(a.Base.basePosition.y),e=a.NodeFactory.VML.getCoefValue(a.Base.basePosition.h),k=a.NodeFactory.VML.getCoefValue(a.Base.basePosition.w),l=a.NodeFactory.VML.getCoefValue(a.Base.displacementCoefficient);j.setAttribute("v","m "+f+","+b+" l "+f+","+(b+e)+", "+(f-l)+","+(b+e+l)+", "+(f-l)+","+(b+l)+" x e");1==h.length?j.setAttribute("fillcolor","#"+c.depthColorLeft.replace("#","")):(f=a.NodeFactory.VML.createNode("fill"),f.setAttribute("Type","Gradient"),f.setAttribute("Angle",
180),f.setAttribute("Color","#"+h[0].replace("#","")),f.setAttribute("Color2","#"+h[1].replace("#","")),f.setAttribute("Focus","0%"),f.setAttribute("method","none"),j.appendChild(f));j.style.position="absolute";j.style.width=a.Base.basePosition.w+" px";j.style.height=a.Base.basePosition.h+" px";j.style.top="0 px";j.style.left="0 px";g.appendChild(j);a.NodeStore.root.appendChild(g)}1===parseInt(c.showDepthRight,10)&&(h=c.depthColorRight.split(","),g=a.NodeFactory.VML.createNode("shape"),1==h.length?
g.setAttribute("fillcolor","#"+c.depthColorRight.replace("#","")):(f=a.NodeFactory.VML.createNode("fill"),f.setAttribute("Type","Gradient"),f.setAttribute("Angle",90),f.setAttribute("Color","#"+h[0].replace("#","")),f.setAttribute("Color2","#"+h[1].replace("#","")),f.setAttribute("Focus","0%"),f.setAttribute("method","none"),g.appendChild(f)),g.style.position="absolute",g.style.width=a.width+" px",g.style.height=a.height+" px",g.style.top="0 px",g.style.left="0 px",g.setAttribute("coordorigin","0 0"),
g.setAttribute("coordsize",a.width*a.NodeFactory.VML.scaleCoefficient+" "+a.height*a.NodeFactory.VML.scaleCoefficient),f=a.NodeFactory.VML.createNode("stroke"),f.setAttribute("opacity","0"),g.appendChild(f),f=a.NodeFactory.VML.getCoefValue(a.Base.basePosition.x),b=a.NodeFactory.VML.getCoefValue(a.Base.basePosition.y),e=a.NodeFactory.VML.getCoefValue(a.Base.basePosition.h),k=a.NodeFactory.VML.getCoefValue(a.Base.basePosition.w),l=a.NodeFactory.VML.getCoefValue(a.Base.displacementCoefficient),j=a.NodeFactory.VML.createNode("path"),
j.setAttribute("v","M"+f+" "+(b+e)+"L"+(f+k)+" "+(b+e)+"L"+(f+k-l)+" "+(b+e+l)+"L"+(f-l)+" "+(b+e+l)+" z"),1==h.length?j.setAttribute("fillcolor","#"+c.depthColorRight.replace("#","")):(f=a.NodeFactory.VML.createNode("fill"),f.setAttribute("Type","Gradient"),f.setAttribute("Angle",90),f.setAttribute("Color","#"+h[0].replace("#","")),f.setAttribute("Color2","#"+h[1].replace("#","")),f.setAttribute("Focus","0%"),f.setAttribute("method","none"),j.appendChild(f)),j.style.position="absolute",j.style.width=
a.Base.basePosition.w+" px",j.style.height=a.Base.basePosition.h+" px",j.style.top="0 px",j.style.left="0 px",g.appendChild(j),a.NodeStore.root.appendChild(g))},createZeroSeparator:function(a){var b=Bar[m],c=b.params.xmlData.chart,e=b.NodeFactory.VML.createNode("shape");e.setAttribute("fillcolor","#"+c.zeroSeparatorColor);e.setAttribute("opacity",c.zeroSeparatorAlpha);e.setAttribute("coordsize",b.NodeFactory.VML.getCoefValue(b.Base.barsPlace.w)+","+b.NodeFactory.VML.getCoefValue(b.Base.barsPlace.h));
e.setAttribute("coordorigin","0 0");e.style.position="absolute";e.style.left="0 px";e.style.top="0 px";e.style.width=b.Base.barsPlace.w+"px";e.style.height=b.Base.barsPlace.h+"px";var f=b.NodeFactory.VML.createNode("stroke");f.setAttribute("opacity","0.2");e.appendChild(f);var f=b.NodeFactory.VML.createNode("path"),h=b.NodeFactory.VML.getCoefValue(b.Base.getValuePosition(0)),g=b.NodeFactory.VML.getCoefValue(b.Base.barsPlace.y),j=b.NodeFactory.VML.getCoefValue(b.Base.barsPlace.x),k=b.NodeFactory.VML.getCoefValue(b.Base.barsPlace.w),
l=b.NodeFactory.VML.getCoefValue(b.Base.displacementCoefficient),p=b.NodeFactory.VML.getCoefValue(b.Base.barsPlace.h);f.setAttribute("v",a?"M "+j+","+h+" L "+(j+k)+","+h+"  "+(j+k-l)+","+(h+l)+"  "+(j-l)+","+(h+l)+" x e":"M "+h+","+g+" L "+h+","+(g+p-l)+"  "+(h-l)+","+(g+p)+"  "+(h-l)+","+(g+l)+" x e");f.setAttribute("stroke","#"+c.zeroSeparatorBorderColor);f.setAttribute("strokeweight",c.zeroSeparatorBorderWidth+"px");e.appendChild(f);b.NodeStore.root.appendChild(e);e=b.NodeStore.drawnDivLinesLabels;
f=e.length;for(h=!1;f--;)if(0==e[f]){h=!0;break}!h&&1===c.showXAxisValues&&(e=b.Base.getValuePosition(0),f=b.Base.basePosition.y+b.Base.basePosition.h+b.Base.bottomLabelsmarginTop,h=b.NodeFactory.VML.createNode("textbox"),g=c.numberPrefix+"0"+c.numberSuffix,h.appendChild(document.createTextNode(g)),h.style.fontFamily=c.outCnvBaseFont,h.style.fontSize=c.outCnvBaseFontSize+"px",h.style.position="absolute",b.NodeStore.root.appendChild(h),g=b.NodeFactory.VML.getBiggestBBox([g],{fontFamily:c.outCnvBaseFont,
fontSize:c.outCnvBaseFontSize}),h.style.color="#"+c.outCnvBaseFontColor,a?(h.style.left=b.Base.basePosition.x-b.Base.categoriesLabelsRightMargin-g.w-b.Base.displacementCoefficient+"px",h.style.top=e-g.h/2+"px"):(h.style.left=e-g.w/2+"px",h.style.top=f-g.h+"px"))},addDivLine:function(a,b,c,e){"undefined"===typeof b&&(b=!0);var f=Bar[m],h=f.params.xmlData.chart,g=f.Base.getValuePosition(a),j=f.Base.basePosition.y+f.Base.basePosition.h+f.Base.bottomLabelsmarginTop,k=g,l=g,p=f.Base.basePosition.y+f.Base.basePosition.h,
n=f.Base.basePosition.y;c&&(k=f.Base.basePosition.x,l=f.Base.basePosition.x+f.Base.basePosition.w,n=p=f.Base.getValuePosition(a));b&&(b=f.NodeFactory.VML.createNode("line"),n=l+","+n,b.setAttribute("from",k+","+p),b.setAttribute("to",n),b.setAttribute("strokeweight","1"),b.setAttribute("strokecolor","#"+h.divLineColor),b.style.position="absolute",b.style.top="0 px",b.style.left="0 px",f.NodeStore.root.appendChild(b));1===h.showXAxisValues&&(n=f.NodeFactory.VML.createNode("textbox"),a=h.numberPrefix+
a.toFixed(h.decimals)+h.numberSuffix,n.appendChild(document.createTextNode(a)),n.style.position="absolute",n.style.left=g+"px",n.style.top=j+"px",f.NodeStore.root.appendChild(n),n.style.fontFamily=h.outCnvBaseFont,n.style.fontSize=h.outCnvBaseFontSize+"px",n.style.color="#"+h.outCnvBaseFontColor,g=f.NodeFactory.VML.getBiggestBBox([a],{fontFamily:h.outCnvBaseFont,fontSize:h.outCnvBaseFontSize}),c?(n.style.top=p-g.h/2+"px",n.style.left=k-g.w-f.Base.categoriesLabelsRightMargin-f.Base.displacementCoefficient+
"px"):(n.style.top=j-g.h+"px",n.style.left=k-g.w/2+"px"));f.Base.secondYAxisExist&&(n=f.NodeFactory.VML.createNode("textbox"),a=h.numberPrefix+e.toFixed(h.decimals)+h.numberSuffix,n.appendChild(document.createTextNode(a)),f.NodeStore.root.appendChild(n),n.style.position="absolute",n.style.fontFamily=h.outCnvBaseFont,n.style.fontSize=h.outCnvBaseFontSize+"px",g=f.NodeFactory.VML.getBiggestBBox([a],{fontFamily:h.outCnvBaseFont,fontSize:h.outCnvBaseFontSize}),n.style.color="#"+h.outCnvBaseFontColor,
c?(n.style.top=p-g.h/3+"px",n.style.left=l+f.Base.categoriesLabelsRightMargin-f.Base.displacementCoefficient+f.Base.categoriesLabelsRightMargin+"px"):(n.style.top=p-g.h-f.Base.basePosition.h+"px",n.style.left=l-g.w/2+"px"))},addCategoryLabel:function(a){var b=Bar[m],c=b.params.xmlData.chart,e=!1,f=a.label,h=b.NodeFactory.VML.getBiggestBBox([a.label],{fontFamily:c.outCnvBaseFont,fontSize:c.outCnvBaseFontSize}),g=0,j=0,k=!1;1===c.showCategoryLabels&&("1"===c.isColumn&&(e=!0),e?"0"==c.rotateNames?(g=
a.x,j=a.y+h.h/2):(k=!0,j=a.y+parseInt(h.w/2,10),g=a.x):(g=a.x-h.w/2-b.Base.displacementCoefficient,j=a.y),b.NodeFactory.VML.addLabel(f,g,j,k,{font:c.outCnvBaseFont,size:c.outCnvBaseFontSize,color:"#"+c.outCnvBaseFontColor}))},addBarLabel:function(a,b){var c=Bar[m],e=c.params.xmlData.chart,f=new c.NodeFactory.VML.barHoverHandler(a.toolText?a.toolText:"",b),h=new c.NodeFactory.VML.barOutHandler(b),g="",j=!1,k=0,l=0,p=!1,n="";"1"===e.isColumn&&(j=!0);g=e.numberPrefix+a.value.toFixed(e.decimals)+e.numberSuffix;
if(!1!==a.negativeErrorPossible||!1!==a.positiveErrorPossible)n=k=0,a.negativeErrorPossible&&(n=a.negativeErrorPossible.toFixed(e.decimals)),a.positiveErrorPossible&&(k=a.positiveErrorPossible.toFixed(e.decimals)),g+=" (+"+k+" / -"+n+")";document.createTextNode(g);l=c.NodeFactory.VML.getBiggestBBox([g],{fontFamily:e.baseFont,fontSize:e.baseFontSize});n=a.syncLabelColor?a.color:"#"+e.baseFontColor;j?a.positionAtTop?(k=a.x+(a.w-c.Base.displacementCoefficient)/2,l=0<a.value?a.y-l.h/2:a.y+a.h+l.h/2):
(p=!0,k=a.x+(a.w-c.Base.displacementCoefficient)/2-l.h/4,l=a.y+(a.h-c.Base.displacementCoefficient)/2):(a.positionAtTop?k=0<a.value?a.x+a.w+l.w/2+c.Base.displacementCoefficient:a.x-l.w/2-c.Base.displacementCoefficient:(k=a.x+(a.w-c.Base.displacementCoefficient)/2,l.w>a.w&&(k=a.x+l.w/2),k+l.w>c.Base.basePosition.x+c.Base.basePosition.w&&(k-=l.w-a.w)),l=a.y+(a.h-c.Base.displacementCoefficient)/2+c.Base.displacementCoefficient);e=c.NodeFactory.VML.addLabel(g,k,l,p,{font:e.baseFont,size:e.baseFontSize,
color:"#"+n});if(""!==b.url||""!==b.jsFunction)e.style.cursor="pointer",c.addEvent(e,"click",function(){""!==a.jsFunction&&(c.ToolTip.hide(),eval(a.jsFunction));""!==a.url&&window.open(a.url,"_blank")});c.addEvent(e,"mouseover",f);c.addEvent(e,"mouseout",h)},addLineLabel:function(a){var b=Bar[m],c=b.params.xmlData.chart,e="";a.toolText=a.toolText?a.toolText:"";var f=c.numberPrefix+a.value.toFixed(c.decimals)+c.numberSuffix,h=b.NodeFactory.VML.getBiggestBBox([f],{fontFamily:c.baseFont,fontSize:c.baseFontSize}),
e=a.syncLabelColor?a.color:"#"+c.baseFontColor,c=b.NodeFactory.VML.addLabel(f,a.x,a.y-h.h,"1"==a.rotateLabels?!0:!1,{font:c.baseFont,size:c.baseFontSize,color:"#"+e},a.labelsAngle);if(""!==a.url||""!==a.jsFunction)c.style.cursor="pointer",b.addEvent(c,"click",function(){""!==a.jsFunction&&(b.ToolTip.hide(),eval(a.jsFunction));""!==a.url&&window.open(a.url,"_blank")});e=new b.NodeFactory.VML.barHoverHandler(a.toolText,void 0);f=new b.NodeFactory.VML.barOutHandler(a);b.addEvent(c,"mouseover",e);b.addEvent(c,
"mouseout",f)},addStylesToTextObject:function(a,b){a.style.fontFamily=b.font;a.style.fontSize=b.size+"px";"1"==b.bold&&(a.style.fontWeight="bold");a.setAttribute("fillcolor","#"+b.color)},drawLegendBackground:function(){var a=Bar[m],b=a.params.xmlData.chart,c=a.NodeFactory.VML.createNode("rect",!1),e=a.NodeFactory.VML.createNode("stroke");e.setAttribute("color","#"+b.legendBorderColor.replace("#",""));e.setAttribute("weight",b.legendBorderWidth);c.appendChild(e);c.setAttribute("fillcolor","#"+b.legendBackgroundColor.replace("#",
""));c.setAttribute("arcsize","0.1");c.setAttribute("zIndex","1");c.style.position="absolute";c.style.left=a.Base.legendSize.x+"px";c.style.top=a.Base.legendSize.y+"px";c.style.width=a.Base.legendSize.w+"px";c.style.height=a.Base.legendSize.h+"px";a.NodeStore.root.appendChild(c)},initLegendShadow:function(a){var b=Bar[m].NodeFactory.VML.createNode("shadow");b.setAttribute("on","t");b.setAttribute("type","perspective");b.setAttribute("origin","0.5,0.5");b.setAttribute("offset","0.4,0.4");b.setAttribute("opacity",
"0.3");a.appendChild(b);return a},getBiggestBBox:function(a,b){var c=Bar[m],e=a.length,f=document.createElement("div"),h=0,g=0;f.style.top="-100px";f.style.left="-100px";f.style.position="absolute";f.style.fontFamily=b.fontFamily;f.style.fontSize=b.fontSize+"px";f.style.padding="0px";f.style.margin="0px";"undefined"!==typeof a[0]&&0==a[0].length&&(f.style.lineHeight="0px");c.chartContainer.style.padding="0px";c.chartContainer.style.margin="0px";for(c.chartContainer.appendChild(f);e--;){c.deleteChilds(f);
f.appendChild(document.createTextNode(a[e]));var j=c.getSize(f);h<j.width&&(h=j.width);g<j.height&&(g=j.height)}c.chartContainer.removeChild(f);return{w:h,h:g}}},Canvas:{createRoot:function(){var a=Bar[m],b=document.createElement("canvas");b.style.position="relative";b.style.top="0 px";b.style.left="0 px";a.chartContainer.appendChild(b);b.setAttribute("width",a.width);b.setAttribute("height",a.height);a.NodeStore.root=b.getContext("2d")},drawLogo:{innerOverlayGradient:null,outerOverlayGradient:null,
init:function(){var a=Bar[m],b=a.NodeStore.root,c=a.width-130,e=""+parseInt(1073741824*Math.random(),10);a.NodeFactory.Canvas.drawLogo.createGradient(b,e,{cx:c+20,cy:25,radius:30});a.NodeFactory.Canvas.drawLogo.drawCirclePart({angleStart:70,angleEnd:340,color:a.NodeFactory.Canvas.drawLogo.outerOverlayGradient,cx:c+20,cy:25,radius:20,container:b});a.NodeFactory.Canvas.drawLogo.drawCirclePart({angleStart:-20,angleEnd:70,color:"#F26734",cx:c+20+2,cy:26,radius:20,container:b});a.NodeFactory.Canvas.drawLogo.createText(b,
c+20+9,38)},drawPoly:function(a){var b=Bar[m].NodeStore.root,c=a.points,e=c.length-1;b.globalAlpha=1;b.save();b.beginPath();for(b.moveTo(c[e].x,c[e].y);e--;)b.lineTo(c[e].x,c[e].y);b.fillStyle=a.color;b.lineWidth=1;b.closePath();b.fill();b.globalAlpha=1;b.restore()},drawCirclePart:function(a){var b=Bar[m],c=[],e=a.cx,f=a.cy,h=a.radius;c.push({x:e,y:f});for(var g=a.angleStart;g<=a.angleEnd;g++){var j=g*(Math.PI/180),k=0,l=0,k=e+h*Math.cos(j),l=f+h*Math.sin(j);c.push({x:k,y:l})}b.NodeFactory.Canvas.drawLogo.drawPoly({points:c,
color:a.color,container:a.container})},createGradient:function(a,b,c){a=Bar[m];var e=a.NodeStore.root;b=e.createLinearGradient(0,0,0,a.height);c=e.createRadialGradient(c.cx,c.cy,0,c.cx,c.cy,30);b.addColorStop(0,"rgba(255,255,255,0.0)");b.addColorStop(1,"rgba(255,255,255,0.4)");c.addColorStop(0,"rgba(0,0,0,0.5)");c.addColorStop(1,"rgba(0,0,0,0.5)");a.NodeFactory.Canvas.drawLogo.innerOverlayGradient=b;a.NodeFactory.Canvas.drawLogo.outerOverlayGradient=c},createText:function(a,b,c){a=Bar[m].NodeStore.root;
var e="Tahoma",f="15",h="434343";a.save();a.font=f+"px  "+e+" bold";a.fillStyle="#"+h;a.textAlign="center";a.translate(b+10,c);a.fillText("HD",0,0);a.restore();e="Tahoma";f="15";h="F15A23";a.save();a.font=f+"px  "+e+" bold";a.fillStyle="#"+h;a.textAlign="center";a.translate(b+52,c);a.fillText("CHARTS",0,0);a.restore()}},initBackgroundGradient:function(a,b,c,e,f){var h=Bar[m],g=h.NodeStore.root;c=parseInt(c,10)%360;switch(c){case 0:var j=g.createLinearGradient(f.x,f.h+f.y,f.x,f.y);break;case 45:j=
g.createLinearGradient(f.w+f.x,f.h+f.y,f.x,f.y);break;case 90:j=g.createLinearGradient(f.w+f.x,f.y,f.x,f.y);break;case 135:j=g.createLinearGradient(f.w+f.x,f.y,f.x,f.h+f.y);break;case 180:j=g.createLinearGradient(f.x,f.y,f.x,f.h+f.y);break;case 225:j=g.createLinearGradient(f.x,f.y,f.w+f.x,f.h+f.y);break;case 270:j=g.createLinearGradient(f.x,f.y,f.w+f.x,f.y);break;case 315:j=g.createLinearGradient(f.x,f.h+f.y,f.w+f.x,f.y);break;case 360:j=g.createLinearGradient(f.x,f.h+f.y,f.x,f.y)}a=h.getColorDecimalCode(a);
b=h.getColorDecimalCode(b);j.addColorStop(0,"rgba( "+a.r+","+a.g+","+a.b+","+e+" )");j.addColorStop(1,"rgba( "+b.r+","+b.g+","+b.b+","+e+" )");return j},drawCategoriesAxisName:function(){var a=Bar[m],b=a.params.xmlData.chart,c=a.NodeStore.root,e=b.categoriesAxisName,f=a.ParamsChecker.defineUndefinedFontStyles(a.ParamsChecker.getDefinedFontStyles("categoriesAxisName"));c.save();c.font=f.size+"px "+f.font;c.fillStyle="#"+f.color;var h=a.NodeFactory.Canvas.getBiggestBBox([e],{fontFamily:f.font,fontSize:f.size});
"1"===b.isColumn?(h.w>parseInt(a.width/2,10)&&(h=parseInt(h.w/e.length,10),e=e.slice(0,parseInt(a.width/(3*h),10))+"..",h=a.NodeFactory.Canvas.getBiggestBBox([e],{fontFamily:f.font,fontSize:f.size})),f=parseInt(a.width/2,10),a=parseInt(a.height-(a.Base.legendSize.h+parseInt(b.chartBottomMargin,10)+h.h),10),c.translate(f,a)):(h.w>parseInt(a.height/2,10)&&(h=parseInt(h.w/e.length,10),e=e.slice(0,parseInt(a.height/(3*h),10))+"..",h=a.NodeFactory.Canvas.getBiggestBBox([e],{fontFamily:f.font,fontSize:f.size})),
f=parseInt(b.chartLeftMargin,10),a=parseInt(a.height/2+h.h),c.translate(f,a),c.rotate(-Math.PI/2));c.textAlign="center";c.fillText(e,0,h.h/2);c.restore()},drawPrimaryAxisName:function(){var a=Bar[m],b=a.params.xmlData.chart,c=a.NodeStore.root,e=b.PYAxisName,f=a.ParamsChecker.defineUndefinedFontStyles(a.ParamsChecker.getDefinedFontStyles("PYAxisName")),h=parseInt(b.chartLeftMargin,10),g=parseInt(a.Base.barsPlace.h/2,10);c.save();c.font=f.size+"px  "+f.font;c.fillStyle="#"+f.color;var j=a.NodeFactory.Canvas.getBiggestBBox([e],
{fontFamily:f.font,fontSize:f.size});c.textAlign="center";"1"===b.isColumn?(j.w>parseInt(a.height/3,10)&&(b=parseInt(j.w/e.length,10),e=e.slice(0,parseInt(a.height/(3*b),10))+"..",j=a.NodeFactory.Canvas.getBiggestBBox([e],{fontFamily:f.font,fontSize:f.size})),c.translate(h,g),c.rotate(-Math.PI/2)):(j.w>parseInt(a.width/3,10)&&(b=parseInt(j.w/e.length,10),e=e.slice(0,parseInt(a.width/(3*b),10))+"..",j=a.NodeFactory.Canvas.getBiggestBBox([e],{fontFamily:f.font,fontSize:f.size})),h=parseInt(a.width,
10)/2,g=a.Base.barsPlace.y+a.Base.barsPlace.h+a.Base.secondaryScaleLabelsMaxSize.h-j.h,c.translate(h,g));c.fillText(e,0,j.h);c.restore()},drawSecondaryAxisName:function(){var a=Bar[m],b=a.params.xmlData.chart,c=a.NodeStore.root,e=b.SYAxisName,f=a.ParamsChecker.defineUndefinedFontStyles(a.ParamsChecker.getDefinedFontStyles("SYAxisName")),h=a.width-parseInt(b.chartRightMargin,10),g=parseInt(a.Base.barsPlace.h/2,10),j=a.NodeFactory.Canvas.getBiggestBBox([e],{fontFamily:f.font,fontSize:f.size});c.save();
c.font=f.size+"px  "+f.font;c.fillStyle="#"+f.color;c.textAlign="center";"1"===b.isColumn?(j.w>parseInt(a.height/3,10)&&(j=parseInt(j.w/e.length,10),e=e.slice(0,parseInt(a.height/(3*j),10))+"..",j=a.NodeFactory.Canvas.getBiggestBBox([e],{fontFamily:f.font,fontSize:f.size})),c.translate(h,g),c.rotate(-Math.PI/2),c.fillText(e,0,-j.h/3)):(j.w>parseInt(a.width/3,10)&&(j=parseInt(j.w/e.length,10),e=e.slice(0,parseInt(a.width/(3*j),10))+"..",j=a.NodeFactory.Canvas.getBiggestBBox([e],{fontFamily:f.font,
fontSize:f.size})),h=a.width/2,g=a.Base.titleHeight+parseInt(b.chartTopMargin,10),c.translate(h,g),c.fillText(e,0,j.h));c.restore()},drawLine:function(a){var b=Bar[m],c=b.NodeStore.root;if("0"!==a.showShadow){var e=b.Base.shadowOffset;c.beginPath();c.lineWidth=a.lineWidth;c.fillStyle="#999999";c.strokeStyle="#999999";c.globalAlpha=b.Base.shadowOpacity/100;c.moveTo(a.x1+e,a.y1+e);c.lineTo(a.x2+e,a.y2+e);c.stroke();c.globalAlpha=1}c.beginPath();c.lineWidth=parseInt(a.lineWidth,10);c.globalAlpha=a.lineAlpha/
100;c.fillStyle="#"+a.color;c.strokeStyle="#"+a.color;c.moveTo(a.x1,a.y1);c.lineTo(a.x2,a.y2);c.stroke();c.globalAlpha=1},drawAnchor:function(a){var b=Bar[m].NodeStore.root,c=parseInt(a.anchorRadius,10);b.beginPath();b.globalAlpha=a.anchorAlpha/100;b.arc(a.x,a.y,c,0,2*Math.PI,!0);b.fillStyle="#"+a.anchorFillColor;b.fill();b.lineWidth=a.anchorBorderWidth;b.strokeStyle="#"+a.anchorBorderColor;b.stroke();b.globalAlpha=1},drawBar:function(a){var b=Bar[m],c=b.NodeStore.root,e=b.NodeFactory.Canvas.getPathStrings(a),
b=b.NodeFactory.Canvas.createGradients(a),f=e.pathMain;c.beginPath();c.moveTo(f.x,f.y);c.lineTo(f.x+f.w,f.y);c.lineTo(f.x+f.w,f.y+f.h);c.lineTo(f.x,f.y+f.h);c.fillStyle=a.color;c.fill();var h=e.pathTop;c.beginPath();c.moveTo(h.x,h.y);c.lineTo(h.x+h.d,h.y-h.d);c.lineTo(h.x+h.d+h.w,h.y-h.d);c.lineTo(h.x+h.w,h.y);c.fillStyle=a.color;c.fill();e=e.pathRight;c.beginPath();c.moveTo(e.x+e.w,e.y);c.lineTo(e.x+e.w+e.d,e.y-e.d);c.lineTo(e.x+e.d+e.w,e.y+e.h-e.d);c.lineTo(e.x+e.w,e.y+e.h);c.fillStyle=a.color;
c.fill();c.beginPath();c.moveTo(h.x,h.y);c.lineTo(h.x+h.d,h.y-h.d);c.lineTo(h.x+h.d+h.w,h.y-h.d);c.lineTo(h.x+h.w,h.y);c.fillStyle=b.gradTop;c.fill();c.beginPath();c.moveTo(f.x,f.y);c.lineTo(f.x+f.w,f.y);c.lineTo(f.x+f.w,f.y+f.h);c.lineTo(f.x,f.y+f.h);c.fillStyle=b.gradMain;c.fill();c.beginPath();c.moveTo(e.x+e.w,e.y);c.lineTo(e.x+e.w+e.d,e.y-e.d);c.lineTo(e.x+e.d+e.w,e.y+e.h-e.d);c.lineTo(e.x+e.w,e.y+e.h);c.fillStyle=b.gradRight;c.fill()},drawSection:function(a,b,c,e,f,h){var g=Bar[m],j=g.NodeStore.root,
k=a,l=b,p=g.Base.basePosition.y,n=g.Base.basePosition.y+g.Base.basePosition.h;f&&(p=a,n=b,h?(k=g.Base.basePosition.x-g.Base.displacementCoefficient,l=g.Base.basePosition.x+g.Base.basePosition.w-g.Base.displacementCoefficient):(k=g.Base.basePosition.x,l=g.Base.basePosition.x+g.Base.basePosition.w));j.beginPath();j.rect(k,p,l-k,n-p);j.fillStyle="#"+c.replace("#","");j.globalAlpha=e/100;j.fill();j.lineWidth=0;j.globalAlpha=1},drawLineLabel:function(a,b,c,e){var f=Bar[m],h=f.params.xmlData.chart,g=a,
j=f.Base.basePosition.y+f.Base.basePosition.h+f.Base.bottomLabelsmarginTop+f.Base.bottomLabelsMaxHeight,k=f.NodeStore.root,l=f.NodeFactory.Canvas.getBiggestBBox([b],{fontFamily:h.baseFont,fontSize:h.baseFontSize});k.save();e&&(j=a,g=f.Base.basePosition.x);a=-l.w/2;f.NodeFactory.Canvas.addStylesToTextObject(k,{font:h.baseFont,size:h.baseFontSize,color:c});e?(a=-f.Base.categoriesLabelsRightMargin,k.textAlign="right",k.fillText(b,g+a,j+l.h/4)):(k.textAlign="center",k.fillText(b,g,j));k.textAlign="center"},
drawDivLine:function(a,b,c,e,f,h){e=Bar[m];var g=e.NodeStore.root,j=a,k=a,l=e.Base.basePosition.y,p=e.Base.basePosition.y+e.Base.basePosition.h;h&&(l=e.Base.basePosition.y+e.Base.displacementCoefficient,p=e.Base.basePosition.y+e.Base.basePosition.h+e.Base.displacementCoefficient);f&&(p=l=a,h?(j=e.Base.basePosition.x-e.Base.displacementCoefficient,k=e.Base.basePosition.x+e.Base.basePosition.w-e.Base.displacementCoefficient):(j=e.Base.basePosition.x,k=e.Base.basePosition.x+e.Base.basePosition.w));g.beginPath();
g.lineWidth=c;g.strokeStyle="#"+b;g.moveTo(j,l);g.lineTo(k,p);g.stroke()},getPathStrings:function(a){var b=Bar[m].Base.displacementCoefficient,c=a.x-b,e=a.y+b,f=a.w;a=a.h-b;var h="M"+c+" "+e+"L"+(c+f)+" "+e+"L"+(f+c)+" "+(e+a)+"L"+c+" "+(e+a)+" z",g="M"+c+" "+e+"L"+(c+b)+" "+(e-b)+"L"+(c+b+f)+" "+(e-b)+"L"+(c+f)+"  "+e+" z",j="M"+(c+f)+" "+e+"L"+(c+f+b)+" "+(e-b)+"L"+(c+b+f)+" "+(e+a-b)+"L"+(c+f)+"  "+(e+a)+" z",h={x:c,y:e,w:f,h:a},g={x:c,y:e,w:f,h:a,d:b},j={x:c,y:e,w:f,h:a,d:b};return{pathMain:h,
pathTop:g,pathRight:j}},createGradients:function(a){var b=Bar[m],c=b.params.xmlData.chart,e=b.NodeStore.root,f=e.createLinearGradient(a.x,a.y,a.x+a.w,a.y+a.h);f.addColorStop(1,"rgba( 102, 102, 102, 0.2 )");f.addColorStop(0.2,"rgba( 52, 52, 52, 0.5 )");var h=f,f=e.createLinearGradient(a.x,a.y,a.x+a.w,a.y+a.h);f.addColorStop(1,"rgba( 32, 32, 32, 0.2 )");f.addColorStop(0.2,"rgba( 52, 52, 52, 0.5 )");e=f;a=b.NodeFactory.Canvas.initBackgroundGradient("#ffffff","#000000",parseInt(c.barsGradientAngle,10)+
180,b.Base.barsGradientOpacity,a);return{gradTop:h,gradRight:e,gradMain:a}},createBackground:function(){var a=Bar[m],b=a.NodeStore.root,c=a.params.xmlData.chart,e=c.bgColor.split(",");b.beginPath();b.rect(0,0,a.width,a.height);1===e.length?b.fillStyle="#"+e[0]:(a=a.NodeFactory.Canvas.initBackgroundGradient("#"+e[0],"#"+e[1],parseInt(c.bgAngle,10),1,{x:0,y:0,w:a.width,h:a.height}),b.fillStyle=a);b.globalAlpha=c.bgAlpha/100;b.fill();b.lineWidth=0;b.globalAlpha=1},createBase:function(){var a=Bar[m],
b=a.params.xmlData.chart,c=b.canvasBgColor.split(","),e=a.NodeStore.root;e.beginPath();e.rect(a.Base.basePosition.x,a.Base.basePosition.y,a.Base.basePosition.w,a.Base.basePosition.h);e.globalAlpha=b.canvasBgAlpha/100;1===c.length?e.fillStyle="#"+b.canvasBgColor:(c=a.NodeFactory.Canvas.initBackgroundGradient("#"+c[0],"#"+c[1],b.canvasBgAngle,1,{x:a.Base.basePosition.x,y:a.Base.basePosition.y,w:a.Base.basePosition.w,h:a.Base.basePosition.h}),e.fillStyle=c,e.fill(),e.lineWidth=1);e.strokeStyle="#"+b.canvasBorderColor;
e.fill();e.stroke();e.globalAlpha=1;1===parseInt(b.showDepthLeft,10)&&(c=b.depthColorLeft.split(","),e.beginPath(),e.moveTo(a.Base.basePosition.x,a.Base.basePosition.y),e.lineTo(a.Base.basePosition.x,a.Base.basePosition.y+a.Base.basePosition.h),e.lineTo(a.Base.basePosition.x-a.Base.displacementCoefficient,a.Base.basePosition.y+a.Base.basePosition.h+a.Base.displacementCoefficient),e.lineTo(a.Base.basePosition.x-a.Base.displacementCoefficient,a.Base.basePosition.y+a.Base.displacementCoefficient),1===
c.length?e.fillStyle="#"+b.depthColorLeft.replace("#",""):(c=a.NodeFactory.Canvas.initBackgroundGradient("#"+c[0],"#"+c[1],180,1,{x:a.Base.basePosition.x,y:a.Base.basePosition.y,w:a.Base.basePosition.w,h:a.Base.basePosition.h}),e.fillStyle=c,e.fill(),e.lineWidth=1),e.fill(),e.globalAlpha=1);1===parseInt(b.showDepthRight,10)&&(c=b.depthColorRight.split(","),e.beginPath(),e.moveTo(a.Base.basePosition.x,a.Base.basePosition.y+a.Base.basePosition.h),e.lineTo(a.Base.basePosition.x+a.Base.basePosition.w,
a.Base.basePosition.y+a.Base.basePosition.h),e.lineTo(a.Base.basePosition.x+a.Base.basePosition.w-a.Base.displacementCoefficient,a.Base.basePosition.y+a.Base.basePosition.h+a.Base.displacementCoefficient),e.lineTo(a.Base.basePosition.x-a.Base.displacementCoefficient,a.Base.basePosition.y+a.Base.basePosition.h+a.Base.displacementCoefficient),1===c.length?e.fillStyle="#"+b.depthColorRight.replace("#",""):(c=a.NodeFactory.Canvas.initBackgroundGradient("#"+c[0],"#"+c[1],90,1,{x:a.Base.basePosition.x,
y:a.Base.basePosition.y,w:a.Base.basePosition.w,h:a.Base.basePosition.h}),e.fillStyle=c,e.fill(),e.lineWidth=1),e.fill(),e.globalAlpha=1)},createZeroSeparator:function(a){var b=Bar[m],c=b.params.xmlData.chart,e=b.Base.getValuePosition(0),f=b.Base.barsPlace.y,h=b.Base.barsPlace.h,g=b.Base.displacementCoefficient,j=b.Base.barsPlace.x,k=b.Base.barsPlace.w,l=b.NodeStore.root;l.beginPath();a?(l.moveTo(j,e),l.lineTo(j+k,e),l.lineTo(j+k-g,e+g),l.lineTo(j-g,e+g)):(l.moveTo(e,f),l.lineTo(e,f+h-g),l.lineTo(e-
g,f+h),l.lineTo(e-g,f+g));l.fillStyle="#"+c.zeroSeparatorColor;l.globalAlpha=c.zeroSeparatorAlpha;l.strokeWidth=c.zeroSeparatorBorderWidth;l.fill();l.strokeStyle="#"+c.zeroSeparatorBorderColor;l.stroke();l.globalAlpha=1;e=b.NodeStore.drawnDivLinesLabels;f=e.length;for(h=!1;f--;)if(0==e[f]){h=!0;break}!h&&1===c.showXAxisValues&&(e=b.Base.getValuePosition(0),f=b.Base.basePosition.y+b.Base.basePosition.h+b.Base.bottomLabelsmarginTop,document.createElementNS(b.Render.svgNS,"text"),h=c.numberPrefix+0+
c.numberSuffix,l.textAlign="right",b.NodeFactory.Canvas.addStylesToTextObject(l,{size:c.outCnvBaseFontSize,font:c.outCnvBaseFont,color:c.outCnvBaseFontColor}),a?(l.textAlign="right",l.fillText(h,b.Base.basePosition.x-b.Base.categoriesLabelsRightMargin,e)):(l.textAlign="center",l.fillText(h,e,f)))},drawErrorLine:function(a){var b=Bar[m].NodeStore.root;a=a.points;b.save();b.beginPath();b.moveTo(a[0].x,a[0].y);for(var c=1,e=a.length;c<e;c++)b.lineTo(a[c].x,a[c].y);b.lineTo(a[0].x,a[0].y);b.fillStyle=
"#797979";b.fill();b.strokeWidth=1;b.strokeStyle="#ececec";b.stroke();b.restore()},addDivLine:function(a,b,c,e){"undefined"===typeof b&&(b=!0);"undefined"===typeof c&&(c=!1);var f=Bar[m],h=f.params.xmlData.chart,g=f.Base.getValuePosition(a);f.Base.getValuePosition(a);var j=f.Base.basePosition.y+f.Base.basePosition.h+f.Base.bottomLabelsmarginTop,k=f.NodeStore.root,l=g,p=f.Base.basePosition.y+f.Base.basePosition.h,n=f.Base.basePosition.y;c&&(l=f.Base.basePosition.x,g=f.Base.basePosition.x+f.Base.basePosition.w,
n=p=f.Base.getValuePosition(a));b&&(k.beginPath(),k.moveTo(l,p),k.lineTo(g,n),k.strokeStyle="#"+h.divLineColor,k.stroke());1===h.showXAxisValues&&(a=h.numberPrefix+a.toFixed(h.decimals)+h.numberSuffix,b=f.NodeFactory.Canvas.getBiggestBBox([a],{fontFamily:h.outCnvBaseFont,fontSize:h.outCnvBaseFontSize}),k.font=h.outCnvBaseFontSize+" "+h.outCnvBaseFont,k.fillStyle="#"+h.outCnvBaseFontColor,c?k.fillText(a,l-b.w-f.Base.categoriesLabelsRightMargin-f.Base.displacementCoefficient,p+b.h/3):k.fillText(a,l-
b.w/2,j));f.Base.secondYAxisExist&&(str=h.numberPrefix+e.toFixed(h.decimals)+h.numberSuffix,k.font=h.outCnvBaseFontSize+"px  "+h.outCnvBaseFont,k.fillStyle="#"+h.outCnvBaseFontColor,b=f.NodeFactory.Canvas.getBiggestBBox([str],{fontFamily:h.outCnvBaseFont,fontSize:h.outCnvBaseFontSize}),c?k.fillText(str,g+f.Base.categoriesLabelsRightMargin-f.Base.displacementCoefficient+f.Base.categoriesLabelsRightMargin,p+b.h/3):k.fillText(str,g-b.w/2,p-b.h/3-f.Base.basePosition.h))},addCategoryLabel:function(a){var b=
Bar[m],c=b.params.xmlData.chart,e=a.label,f=b.NodeStore.root,h=!1;1===c.showCategoryLabels&&("1"===c.isColumn&&(h=!0),b=b.NodeFactory.SVG.getBiggestBBox([e],{fontFamily:c.outCnvBaseFont,fontSize:c.outCnvBaseFontSize}),f.textAlign="right",f.fillStyle="#"+c.outCnvBaseFontColor,f.font=c.outCnvBaseFontSize+" "+c.outCnvBaseFont,h?"0"===c.rotateNames?(f.textAlign="center",f.fillText(e,a.x,a.y,100)):(f.save(),f.translate(a.x,a.y),f.rotate(-Math.PI/2),f.textAlign="center",f.fillText(e,-b.w/2-1,b.h/2),f.restore()):
f.fillText(e,a.x,a.y+b.h/2))},getSize:function(a,b){var c=Bar[m],e=document.createElement("div");e.style.position="absolute";e.style.top="0px";e.style.left="0px";e.style.fontFamily=b.font;e.style.fontSize=b.fontSize+"px";e.appendChild(document.createTextNode(a));c.params.container.appendChild(e);var f=c.getSize(e);c.params.container.removeChild(e);return f},addBarLabel:function(a){var b=Bar[m],c=b.params.xmlData.chart,e=b.NodeStore.root,f="",h=!1;"1"===c.isColumn&&(h=!0);f=c.numberPrefix+a.value.toFixed(c.decimals)+
c.numberSuffix;if(!1!==a.negativeErrorPossible||!1!==a.positiveErrorPossible){var g=0,j=0;a.negativeErrorPossible&&(j=a.negativeErrorPossible.toFixed(c.decimals));a.positiveErrorPossible&&(g=a.positiveErrorPossible.toFixed(c.decimals));f+=" (+"+g+" / -"+j+")"}g="";g=a.syncLabelColor?a.color:c.baseFontColor;b.NodeFactory.Canvas.addStylesToTextObject(e,{size:c.outCnvBaseFontSize,font:c.outCnvBaseFont,color:g});e.textAlign="center";g=b.NodeFactory.Canvas.getBiggestBBox([f],{fontFamily:c.baseFont,fontSize:c.baseFontSize});
h?(e.save(),e.textAlign="center",a.positionAtTop?e.fillText(f,a.x+a.w/2,0<a.value?a.y-c.depth:a.y+a.h+g.h):(e.translate(a.x,a.y),e.rotate(-Math.PI/2),e.fillText(f,-(a.h-b.Base.displacementCoefficient)/2,(a.w-b.Base.displacementCoefficient)/2)),e.restore()):(a.positionAtTop?c=0<a.value?a.x+a.w+c.depth+g.w/2:a.x-g.w/2-c.depth:(c=a.x+(a.w-b.Base.displacementCoefficient)/2,g.w>a.w&&(c=a.x+g.w/2),c+g.w>b.Base.basePosition.x+b.Base.basePosition.w&&(c-=g.w-a.w)),e.fillText(f,c,a.y+(a.h-b.Base.displacementCoefficient)/
2+b.Base.displacementCoefficient+g.h/4))},addLineLabel:function(a){var b=Bar[m],c=b.params.xmlData.chart,e=b.NodeStore.root,f="",f=c.numberPrefix+a.value.toFixed(c.decimals)+c.numberSuffix,h="",h=a.syncLabelColor?a.color:c.baseFontColor;b.NodeFactory.Canvas.addStylesToTextObject(e,{size:c.outCnvBaseFontSize,font:c.outCnvBaseFont,color:h});e.textAlign="center";c=b.NodeFactory.Canvas.getBiggestBBox([f],{fontFamily:c.baseFont,fontSize:c.baseFontSize});switch(a.labelsAngle){case -45:e.save();e.translate(a.x-
c.w/4,a.y-c.h);e.rotate(-Math.PI/3);e.textAlign="center";e.fillText(f,-c.w/2-1,c.h/2);e.restore();break;case -90:e.save();a.y+c.w>b.Base.barsBackgroundPosition.h+b.Base.barsBackgroundPosition.y&&(a.y-=1.5*c.w);e.translate(a.x,a.y);e.rotate(-Math.PI/2);e.textAlign="center";e.fillText(f,-c.w/2-7,c.h/4);e.restore();break;default:e.textAlign="center",e.fillText(f,a.x,a.y-c.h/2)}},addStylesToTextObject:function(a,b){var c="",c="undefined"!==typeof b.italic?"1"==b.italic?c+"italic ":c+"normal ":c+"normal ",
c="undefined"!==typeof b.bold?"1"==b.bold?c+"bold ":c+"normal ":c+"normal ",c="undefined"===typeof b.size?c+"11px ":c+b.size+"px ",c="undefined"===typeof b.font?c+"Tahoma ":c+b.font;a.font=c;a.fillStyle="undefined"!==typeof b.color?"#"+b.color.replace("#",""):"#000000"},drawLegendBackground:function(){var a=Bar[m],b=a.params.xmlData.chart,c=a.Base.legendSize,a=a.NodeStore.root;a.lineWidth=b.legendBorderWidth;a.strokeStyle="#"+b.legendBorderColor.replace("#","");a.fillStyle="#"+b.legendBackgroundColor;
a.fillRect(c.x,c.y,c.w,c.h);a.strokeRect(c.x,c.y,c.w,c.h);a.shadowColor="rgba(0, 0, 0, 0)";a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=0},initLegendShadow:function(){},getBiggestBBox:function(a,b){var c=Bar[m],e=a.length,f=document.createElement("div"),h=0,g=0;f.style.top="-100px";f.style.left="-100px";f.style.position="absolute";f.style.fontFamily=b.fontFamily;f.style.fontSize=b.fontSize+"px";for(c.chartContainer.appendChild(f);e--;){c.deleteChilds(f);f.appendChild(document.createTextNode(a[e]));
var j=c.getSize(f);h<j.width&&(h=j.width);g<j.height&&(g=j.height)}c.chartContainer.removeChild(f);return{w:h,h:g}}}}};return{width:0,height:0,chart:window.Bar[m],data:w,parameters:{forceRender:null,doNotUseOverlaysInVML:!1},addParameters:function(a){"undefined"!==typeof a.forceRender&&(this.parameters.forceRender=a.forceRender);"undefined"!==typeof a.doNotUseOverlaysInVML&&(this.parameters.doNotUseOverlaysInVML=a.doNotUseOverlaysInVML)},initialize:function(a,b){window.Bar[m].passedParameters=this.parameters;
window.Bar[m].initialize(a,b);this.width=a;this.height=b},redraw:function(a){"undefined"===typeof a?a=this.data:this.data=a;window.Bar[m].passedParameters=this.parameters;window.Bar[m].initialize(this.width,this.height,a)}}}throw Error("BarChart Error: Incorect data passed to BarChart ( container, jsData, chartId )!");}
function BarChartXML(D,w,m){if("undefined"!==typeof D&&null!=D&&"undefined"!==typeof w){var G=function(a){var c=null;if(window.DOMParser)try{c=(new DOMParser).parseFromString(a,"text/xml")}catch(e){c=null}else if(window.ActiveXObject)try{if(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,!c.loadXML(a))throw Error(c.parseError.reason+c.parseError.srcText);}catch(f){c=null}else throw Error("cannot parse xml string!");return c},a=function(a){var c={toObj:function(a){var b={};if(1==a.nodeType){if(a.attributes.length)for(var h=
0;h<a.attributes.length;h++)b[a.attributes[h].nodeName]=(a.attributes[h].nodeValue||"").toString();if(a.firstChild){for(var g=h=0,j=!1,k=a.firstChild;k;k=k.nextSibling)1==k.nodeType?j=!0:3==k.nodeType&&k.nodeValue.match(/[^ \f\n\r\t\v]/)?h++:4==k.nodeType&&g++;if(j)if(2>h&&2>g){c.removeWhite(a);for(k=a.firstChild;k;k=k.nextSibling)3==k.nodeType?b["#text"]=c.escape(k.nodeValue):4==k.nodeType?b["#cdata"]=c.escape(k.nodeValue):b[k.nodeName]?b[k.nodeName]instanceof Array?b[k.nodeName][b[k.nodeName].length]=
c.toObj(k):b[k.nodeName]=[b[k.nodeName],c.toObj(k)]:b[k.nodeName]=c.toObj(k)}else a.attributes.length?b["#text"]=c.escape(c.innerXml(a)):b=c.escape(c.innerXml(a));else if(h)a.attributes.length?b["#text"]=c.escape(c.innerXml(a)):b=c.escape(c.innerXml(a));else if(g)if(1<g)b=c.escape(c.innerXml(a));else for(k=a.firstChild;k;k=k.nextSibling)b["#cdata"]=c.escape(k.nodeValue)}!a.attributes.length&&!a.firstChild&&(b=null)}else 9==a.nodeType?b=c.toObj(a.documentElement):alert("unhandled node type: "+a.nodeType);
return b},toJson:function(a,b,h){var g=b?'"'+b+'"':"";if(a instanceof Array){for(var j=0,k=a.length;j<k;j++)a[j]=c.toJson(a[j],"",h+"\t");g+=(b?":[":"[")+(1<a.length?"\n"+h+"\t"+a.join(",\n"+h+"\t")+"\n"+h:a.join(""))+"]"}else if(null==a)g+=(b&&":")+"null";else if("object"==typeof a){j=[];for(k in a)j[j.length]=c.toJson(a[k],k,h+"\t");g+=(b?":{":"{")+(1<j.length?"\n"+h+"\t"+j.join(",\n"+h+"\t")+"\n"+h:j.join(""))+"}"}else g="string"==typeof a?g+((b&&":")+'"'+a.toString()+'"'):g+((b&&":")+a.toString());
return g},innerXml:function(a){var b="";if("innerHTML"in a)b=a.innerHTML;else{var c=function(a){var b="";if(1==a.nodeType){for(var b=b+("<"+a.nodeName),e=0;e<a.attributes.length;e++)b+=" "+a.attributes[e].nodeName+'="'+(a.attributes[e].nodeValue||"").toString()+'"';if(a.firstChild){b+=">";for(e=a.firstChild;e;e=e.nextSibling)b+=c(e);b+="</"+a.nodeName+">"}else b+="/>"}else 3==a.nodeType?b+=a.nodeValue:4==a.nodeType&&(b+="<![CDATA["+a.nodeValue+"]]\x3e");return b};for(a=a.firstChild;a;a=a.nextSibling)b+=
c(a)}return b},escape:function(a){return a.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(a){a.normalize();for(var b=a.firstChild;b;)if(3==b.nodeType)if(b.nodeValue.match(/[^ \f\n\r\t\v]/))b=b.nextSibling;else{var h=b.nextSibling;a.removeChild(b);b=h}else 1==b.nodeType&&c.removeWhite(b),b=b.nextSibling;return a}};9==a.nodeType&&(a=a.documentElement);return"{\n"+c.toJson(c.toObj(c.removeWhite(a)),a.nodeName,"\t").replace(/\t|\n/g,
"")+"\n}"};return{parseXml:G,XMLtoJSON:a,xmlStr:w,chart:null,container:D,parameters:{forceRender:null,doNotUseOverlaysInVML:!1},addParameters:function(a){this.chart?this.chart.addParameters(a):("undefined"!==typeof a.forceRender&&(this.parameters.forceRender=a.forceRender),"undefined"!==typeof a.doNotUseOverlaysInVML&&(this.parameters.doNotUseOverlaysInVML=a.doNotUseOverlaysInVML))},symbols:[{symbol:/!#amp!/g,replacement:"&"},{symbol:/%26lt;/g,replacement:"<"},{symbol:/%26gt;/g,replacement:">"}],
encodeString:function(a){for(var c=this.symbols,e=c.length;e--;)a=a.replace(c[e].symbol,c[e].replacement);return a},getParamsFromXML:function(b){b=b.replace(/&/g,"!#amp!");b=G(b);b=a(b);b=this.encodeString(b);b=eval("("+b+")");var c={};if("undefined"!==typeof b.parsererror)throw Error("XML parse error in BarChart lib!");c.xmlData=b;c.container=this.container;return c},initialize:function(a,c){var e=this.getParamsFromXML(this.xmlStr),e=new BarChart(D,e,m);e.parameters=this.parameters;e.initialize(a,
c);this.chart=e},redrawXML:function(a){a=this.getParamsFromXML(a);this.chart.redraw(a)}}}throw Error("BarChart Error: Incorrect parameters passed to BarChartXML ( container, xmlStr )!");};